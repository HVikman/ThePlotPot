"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[807],{6916:(e,s,t)=>{t.d(s,{Z:()=>o});t(2791);var r=t(7022),n=t(18),a=t(3360),l=t(184);const o=e=>{let{message:s,onRetry:t}=e;return(0,l.jsx)(r.Z,{className:"mt-5",children:(0,l.jsxs)(n.Z,{variant:"danger",children:[(0,l.jsx)(n.Z.Heading,{children:"Oh snap! An error occurred."}),(0,l.jsx)("p",{children:s||"Something went wrong. Please try again later."}),t&&(0,l.jsx)(a.Z,{variant:"primary",onClick:t,children:"Retry"})]})})}},3807:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var r=t(2791),n=t(1087),a=t(6578),l=t(7022),o=t(9743),i=t(2677),c=t(3360),d=t(1398),u=t(5070),m=t(5316),h=t(9829),x=t(6916),f=t(1230),g=t(184);const j=()=>{const{loading:e,error:s,data:t}=(0,a.a)(h.Dz),{isDarkMode:j}=(0,f.vs)(),[p,Z]=(0,r.useState)([]),[v,y]=(0,r.useState)(!1),[b,N]=(0,r.useState)(null),[w,k]=(0,r.useState)([]),[E,S]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(t&&t.getAllStories){Z(t.getAllStories);const e=[...new Set(t.getAllStories.map((e=>e.genre)))];k(e)}}),[t]);return e?(0,g.jsx)("div",{children:"Loading..."}):s?(0,g.jsx)(x.Z,{message:s.message}):(0,g.jsx)(l.Z,{children:(0,g.jsx)(o.Z,{children:(0,g.jsxs)(i.Z,{children:[(0,g.jsx)("h1",{children:"All Stories"}),(0,g.jsx)("div",{children:w.map(((e,s)=>(0,g.jsx)(c.Z,{onClick:()=>(e=>{if(E===e)S(null),Z(t.getAllStories);else{S(e);const s=t.getAllStories.filter((s=>s.genre===e));Z(s)}})(e),variant:j?E===e?"dark":"outline-light":E===e?"dark":"outline-dark",className:"m-2",children:e},s)))}),(0,g.jsx)(d.Z,{children:p.map((e=>(0,g.jsx)(d.Z.Item,{onClick:()=>(e=>{N(e),y(!0)})(e),children:(0,g.jsx)(u.Z,{children:(0,g.jsx)(u.Z.Body,{children:(0,g.jsxs)(o.Z,{children:[(0,g.jsxs)(i.Z,{xs:8,children:[(0,g.jsxs)(u.Z.Title,{children:[e.title," ",(0,g.jsxs)("small",{className:"text-muted",children:["by ",e.author.username]}),(0,g.jsx)("small",{style:{fontSize:"0.6em",paddingLeft:"5px"},children:"(Click for details)"})]}),(0,g.jsx)(u.Z.Subtitle,{className:"mb-2 text-muted",children:e.genre})]}),(0,g.jsx)(i.Z,{xs:4,className:"text-right",children:(0,g.jsx)(n.rU,{to:"/story/".concat(e.id),children:(0,g.jsx)(c.Z,{variant:"secondary",children:"Read Story"})})})]})})})},e.id)))}),b&&(0,g.jsxs)(m.Z,{show:v,onHide:()=>{y(!1)},children:[(0,g.jsx)(m.Z.Header,{closeButton:!0,children:(0,g.jsx)(m.Z.Title,{children:b.title})}),(0,g.jsxs)(m.Z.Body,{children:[(0,g.jsx)("p",{children:b.description}),(0,g.jsx)(n.rU,{to:"/story/".concat(b.id),children:(0,g.jsx)(c.Z,{variant:"secondary",children:"Read Story"})})]})]})]})})})}},18:(e,s,t)=>{t.d(s,{Z:()=>v});var r=t(1694),n=t.n(r),a=t(2791),l=t(239),o=t(9007),i=t(162),c=t(7472),d=t(184);const u=(0,c.Z)("h4");u.displayName="DivStyledAsH4";const m=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a=u,...l}=e;return r=(0,i.vE)(r,"alert-heading"),(0,d.jsx)(a,{ref:s,className:n()(t,r),...l})}));m.displayName="AlertHeading";const h=m;var x=t(6445);const f=a.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:a=x.Z,...l}=e;return r=(0,i.vE)(r,"alert-link"),(0,d.jsx)(a,{ref:s,className:n()(t,r),...l})}));f.displayName="AlertLink";const g=f;var j=t(2709),p=t(473);const Z=a.forwardRef(((e,s)=>{const{bsPrefix:t,show:r=!0,closeLabel:a="Close alert",closeVariant:c,className:u,children:m,variant:h="primary",onClose:x,dismissible:f,transition:g=j.Z,...Z}=(0,l.Ch)(e,{show:"onClose"}),v=(0,i.vE)(t,"alert"),y=(0,o.Z)((e=>{x&&x(!1,e)})),b=!0===g?j.Z:g,N=(0,d.jsxs)("div",{role:"alert",...b?void 0:Z,ref:s,className:n()(u,v,h&&"".concat(v,"-").concat(h),f&&"".concat(v,"-dismissible")),children:[f&&(0,d.jsx)(p.Z,{onClick:y,"aria-label":a,variant:c}),m]});return b?(0,d.jsx)(b,{unmountOnExit:!0,...Z,ref:void 0,in:r,children:N}):r?N:null}));Z.displayName="Alert";const v=Object.assign(Z,{Link:g,Heading:h})},5316:(e,s,t)=>{t.d(s,{Z:()=>B});var r,n=t(1694),a=t.n(n),l=t(3070),o=t(7357),i=t(8376),c=t(6382);function d(e){if((!r&&0!==r||e)&&o.Z){var s=document.createElement("div");s.style.position="absolute",s.style.top="-9999px",s.style.width="50px",s.style.height="50px",s.style.overflow="scroll",document.body.appendChild(s),r=s.offsetWidth-s.clientWidth,document.body.removeChild(s)}return r}var u=t(7731),m=t(9007),h=t(3201),x=t(1683),f=t(3690),g=t(2791),j=t(2121),p=t(5592),Z=t(2709),v=t(162),y=t(184);const b=g.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:n="div",...l}=e;return r=(0,v.vE)(r,"modal-body"),(0,y.jsx)(n,{ref:s,className:a()(t,r),...l})}));b.displayName="ModalBody";const N=b;var w=t(9820);const k=g.forwardRef(((e,s)=>{let{bsPrefix:t,className:r,contentClassName:n,centered:l,size:o,fullscreen:i,children:c,scrollable:d,...u}=e;t=(0,v.vE)(t,"modal");const m="".concat(t,"-dialog"),h="string"===typeof i?"".concat(t,"-fullscreen-").concat(i):"".concat(t,"-fullscreen");return(0,y.jsx)("div",{...u,ref:s,className:a()(m,r,o&&"".concat(t,"-").concat(o),l&&"".concat(m,"-centered"),d&&"".concat(m,"-scrollable"),i&&h),children:(0,y.jsx)("div",{className:a()("".concat(t,"-content"),n),children:c})})}));k.displayName="ModalDialog";const E=k,S=g.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:n="div",...l}=e;return r=(0,v.vE)(r,"modal-footer"),(0,y.jsx)(n,{ref:s,className:a()(t,r),...l})}));S.displayName="ModalFooter";const C=S;var R=t(2086);const A=g.forwardRef(((e,s)=>{let{bsPrefix:t,className:r,closeLabel:n="Close",closeButton:l=!1,...o}=e;return t=(0,v.vE)(t,"modal-header"),(0,y.jsx)(R.Z,{ref:s,...o,className:a()(r,t),closeLabel:n,closeButton:l})}));A.displayName="ModalHeader";const T=A;const D=(0,t(7472).Z)("h4"),H=g.forwardRef(((e,s)=>{let{className:t,bsPrefix:r,as:n=D,...l}=e;return r=(0,v.vE)(r,"modal-title"),(0,y.jsx)(n,{ref:s,className:a()(t,r),...l})}));H.displayName="ModalTitle";const P=H;function O(e){return(0,y.jsx)(Z.Z,{...e,timeout:null})}function F(e){return(0,y.jsx)(Z.Z,{...e,timeout:null})}const M=g.forwardRef(((e,s)=>{let{bsPrefix:t,className:r,style:n,dialogClassName:Z,contentClassName:b,children:N,dialogAs:k=E,"aria-labelledby":S,"aria-describedby":C,"aria-label":R,show:A=!1,animation:T=!0,backdrop:D=!0,keyboard:H=!0,onEscapeKeyDown:P,onShow:M,onHide:B,container:L,autoFocus:I=!0,enforceFocus:z=!0,restoreFocus:U=!0,restoreFocusOptions:_,onEntered:K,onExit:W,onExiting:V,onEnter:q,onEntering:G,onExited:J,backdropClassName:Q,manager:X,...Y}=e;const[$,ee]=(0,g.useState)({}),[se,te]=(0,g.useState)(!1),re=(0,g.useRef)(!1),ne=(0,g.useRef)(!1),ae=(0,g.useRef)(null),[le,oe]=(0,u.Z)(),ie=(0,h.Z)(s,oe),ce=(0,m.Z)(B),de=(0,v.SC)();t=(0,v.vE)(t,"modal");const ue=(0,g.useMemo)((()=>({onHide:ce})),[ce]);function me(){return X||(0,p.t)({isRTL:de})}function he(e){if(!o.Z)return;const s=me().getScrollbarWidth()>0,t=e.scrollHeight>(0,i.Z)(e).documentElement.clientHeight;ee({paddingRight:s&&!t?d():void 0,paddingLeft:!s&&t?d():void 0})}const xe=(0,m.Z)((()=>{le&&he(le.dialog)}));(0,x.Z)((()=>{(0,c.Z)(window,"resize",xe),null==ae.current||ae.current()}));const fe=()=>{re.current=!0},ge=e=>{re.current&&le&&e.target===le.dialog&&(ne.current=!0),re.current=!1},je=()=>{te(!0),ae.current=(0,f.Z)(le.dialog,(()=>{te(!1)}))},pe=e=>{"static"!==D?ne.current||e.target!==e.currentTarget?ne.current=!1:null==B||B():(e=>{e.target===e.currentTarget&&je()})(e)},Ze=(0,g.useCallback)((e=>(0,y.jsx)("div",{...e,className:a()("".concat(t,"-backdrop"),Q,!T&&"show")})),[T,Q,t]),ve={...n,...$};ve.display="block";return(0,y.jsx)(w.Z.Provider,{value:ue,children:(0,y.jsx)(j.Z,{show:A,ref:ie,backdrop:D,container:L,keyboard:!0,autoFocus:I,enforceFocus:z,restoreFocus:U,restoreFocusOptions:_,onEscapeKeyDown:e=>{H?null==P||P(e):(e.preventDefault(),"static"===D&&je())},onShow:M,onHide:B,onEnter:(e,s)=>{e&&he(e),null==q||q(e,s)},onEntering:(e,s)=>{null==G||G(e,s),(0,l.ZP)(window,"resize",xe)},onEntered:K,onExit:e=>{null==ae.current||ae.current(),null==W||W(e)},onExiting:V,onExited:e=>{e&&(e.style.display=""),null==J||J(e),(0,c.Z)(window,"resize",xe)},manager:me(),transition:T?O:void 0,backdropTransition:T?F:void 0,renderBackdrop:Ze,renderDialog:e=>(0,y.jsx)("div",{role:"dialog",...e,style:ve,className:a()(r,t,se&&"".concat(t,"-static"),!T&&"show"),onClick:D?pe:void 0,onMouseUp:ge,"aria-label":R,"aria-labelledby":S,"aria-describedby":C,children:(0,y.jsx)(k,{...Y,onMouseDown:fe,className:Z,contentClassName:b,children:N})})})})}));M.displayName="Modal";const B=Object.assign(M,{Body:N,Header:T,Title:P,Footer:C,Dialog:E,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}}]);
//# sourceMappingURL=807.3b5b76cc.chunk.js.map