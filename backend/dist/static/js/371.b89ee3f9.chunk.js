"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[371],{7371:function(e,r,n){n.r(r),n.d(r,{default:function(){return I}});var t=n(4165),a=n(5861),s=n(9439),l=n(2791),o=n(5705),i=n(8007),c=n(4376),u=n(9829),d=n(7689),m=n(3812),p=n(7022),h=n(9795),f=n(9410),v=n(3360),x=n(2469),g=n(8261),j=n(2007),b=n.n(j),Z=["color","size","title"];function w(){return w=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},w.apply(this,arguments)}function y(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var O=(0,l.forwardRef)((function(e,r){var n=e.color,t=e.size,a=e.title,s=y(e,Z);return l.createElement("svg",w({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:n},s),a?l.createElement("title",null,a):null,l.createElement("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"}))}));O.propTypes={color:b().string,size:b().oneOfType([b().string,b().number]),title:b().string},O.defaultProps={color:"currentColor",size:"1em",title:null};var C=O,P=["color","size","title"];function E(){return E=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},E.apply(this,arguments)}function z(e,r){if(null==e)return{};var n,t,a=function(e,r){if(null==e)return{};var n,t,a={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||(a[n]=e[n]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var N=(0,l.forwardRef)((function(e,r){var n=e.color,t=e.size,a=e.title,s=z(e,P);return l.createElement("svg",E({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:n},s),a?l.createElement("title",null,a):null,l.createElement("path",{d:"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2zM2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"}))}));N.propTypes={color:b().string,size:b().oneOfType([b().string,b().number]),title:b().string},N.defaultProps={color:"currentColor",size:"1em",title:null};var k=N,S=n(184),B=i.Ry().shape({username:i.Z_().min(3,"Username must be at least 3 characters").required("Username is required"),email:i.Z_().email("Invalid email").required("Email is required"),password:i.Z_().min(6,"Password must be at least 6 characters").required("Password is required")}),I=function(){var e=(0,g.z)().addNotification,r=(0,l.useState)(null),n=(0,s.Z)(r,2),i=n[0],j=n[1],b=(0,c.D)(u.Rw,{update:function(r,n){var t=n.data;t.createUser.success?(e("Signup successful: ".concat(t.login.user.username)),O(t.createUser.user),E("/")):j(t.createUser.message)},onError:function(r){e("Something went wrong: ".concat(r),2e3,"error")}}),Z=(0,s.Z)(b,1)[0],w=(0,m.a)(),y=w.user,O=w.setUser,P=!!y,E=(0,d.s0)(),z=(0,o.TA)({initialValues:{username:"",email:"",password:""},validationSchema:B,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z({variables:r});case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()});return P?(E("/"),(0,S.jsx)("p",{children:"You are already logged in."})):(0,S.jsxs)(p.Z,{style:{maxWidth:"400px",marginTop:"50px"},children:[(0,S.jsxs)(h.Z,{onSubmit:z.handleSubmit,children:[(0,S.jsxs)(h.Z.Group,{controlId:"formBasicUsername",className:"mt-4 custom-form",children:[(0,S.jsx)(h.Z.Label,{children:"Username"}),(0,S.jsxs)(f.Z,{className:"mb-3",children:[(0,S.jsx)(f.Z.Text,{children:(0,S.jsx)(C,{})}),(0,S.jsx)(h.Z.Control,{type:"text",name:"username",value:z.values.username,onChange:z.handleChange,onBlur:z.handleBlur,isInvalid:z.touched.username&&z.errors.username,placeholder:"Username"}),(0,S.jsx)(h.Z.Control.Feedback,{type:"invalid",children:z.errors.username})]})]}),(0,S.jsxs)(h.Z.Group,{controlId:"formBasicEmail",className:"mt-4 custom-form",children:[(0,S.jsx)(h.Z.Label,{children:"Email address"}),(0,S.jsxs)(f.Z,{className:"mb-3",children:[(0,S.jsx)(f.Z.Text,{children:"@"}),(0,S.jsx)(h.Z.Control,{type:"email",name:"email",value:z.values.email,onChange:z.handleChange,onBlur:z.handleBlur,isInvalid:z.touched.email&&z.errors.email,placeholder:"Enter email"}),(0,S.jsx)(h.Z.Control.Feedback,{type:"invalid",children:z.errors.email})]})]}),(0,S.jsxs)(h.Z.Group,{controlId:"formBasicPassword",className:"mt-4 custom-form",children:[(0,S.jsx)(h.Z.Label,{children:"Password"}),(0,S.jsxs)(f.Z,{className:"mb-3",children:[(0,S.jsx)(f.Z.Text,{children:(0,S.jsx)(k,{})}),(0,S.jsx)(h.Z.Control,{type:"password",name:"password",value:z.values.password,onChange:z.handleChange,onBlur:z.handleBlur,isInvalid:z.touched.password&&z.errors.password,placeholder:"Password"}),(0,S.jsx)(h.Z.Control.Feedback,{type:"invalid",children:z.errors.password})]})]}),(0,S.jsx)(v.Z,{variant:"secondary",className:"mt-2",type:"submit",children:"Signup"})]}),i&&(0,S.jsx)(x.Z,{variant:"danger",className:"mt-3",children:i})]})}},9410:function(e,r,n){var t=n(5987),a=n(1413),s=n(1694),l=n.n(s),o=n(2791),i=n(6543),c=n(162),u=n(6882),d=n(1991),m=n(184),p=["bsPrefix","size","hasValidation","className","as"],h=(0,i.Z)("input-group-text",{Component:"span"}),f=o.forwardRef((function(e,r){var n=e.bsPrefix,s=e.size,i=e.hasValidation,u=e.className,h=e.as,f=void 0===h?"div":h,v=(0,t.Z)(e,p);n=(0,c.vE)(n,"input-group");var x=(0,o.useMemo)((function(){return{}}),[]);return(0,m.jsx)(d.Z.Provider,{value:x,children:(0,m.jsx)(f,(0,a.Z)((0,a.Z)({ref:r},v),{},{className:l()(u,n,s&&"".concat(n,"-").concat(s),i&&"has-validation")}))})}));f.displayName="InputGroup",r.Z=Object.assign(f,{Text:h,Radio:function(e){return(0,m.jsx)(h,{children:(0,m.jsx)(u.Z,(0,a.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,m.jsx)(h,{children:(0,m.jsx)(u.Z,(0,a.Z)({type:"checkbox"},e))})}})}}]);
//# sourceMappingURL=371.b89ee3f9.chunk.js.map