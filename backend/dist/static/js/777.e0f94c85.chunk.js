"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[777],{2777:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var r=a(5043),n=a(3516),l=a(899),o=a(1881),t=a(4743),i=a(3216),c=a(2855),d=a(3519),m=a(5211),u=a(7994),p=a(4282),h=a(1719),x=a(1898),f=a(5475),g=a(3170),j=a(6133),v=a(579);const b=l.Ik().shape({email:l.Yj().email("Invalid email").required("Email is required"),password:l.Yj().required("Password is required")}),y=()=>{const{isDarkMode:e}=(0,j.D2)(),{addNotification:s}=(0,x.E)(),[a,l]=(0,r.useState)(null),{user:y,setUser:A}=(0,c.A)(),w=!!y,N=(0,i.Zp)(),[C]=(0,o.n)(t.CO,{update:(e,a)=>{let{data:r}=a;r.login.success?(A(r.login.user),s("Welcome back ".concat(r.login.user.username)),N("/")):(console.log(r.login),l(r.login.message))},onError:e=>{s("Something went wrong: ".concat(e.message),2e3,"error")}}),k=(0,n.Wx)({initialValues:{email:"",password:"",honeypot:""},validationSchema:b,onSubmit:async e=>{e.honeypot?console.log("Bot detected"):C({variables:e})}});return w?(N("/"),(0,v.jsx)("p",{children:"You are already logged in."})):(0,v.jsxs)(d.A,{style:{maxWidth:"400px",marginTop:"50px"},children:[(0,v.jsxs)(m.A,{onSubmit:k.handleSubmit,className:"".concat(e?"dark-mode":"light-mode"),children:[(0,v.jsxs)(m.A.Group,{controlId:"formBasicEmail",className:"mt-2 custom-form",children:[(0,v.jsx)(m.A.Label,{children:"Email address"}),(0,v.jsxs)(u.A,{className:"mb-3",children:[(0,v.jsx)(u.A.Text,{children:"@"}),(0,v.jsx)(m.A.Control,{type:"email",name:"email",value:k.values.email,onChange:k.handleChange,onBlur:k.handleBlur,isInvalid:k.touched.email&&k.errors.email,placeholder:"Enter email"}),(0,v.jsx)(m.A.Control.Feedback,{type:"invalid",children:k.errors.email})]})]}),(0,v.jsxs)(m.A.Group,{controlId:"formBasicPassword",className:"mt-4 custom-form",children:[(0,v.jsx)(m.A.Label,{children:"Password"}),(0,v.jsxs)(u.A,{className:"mb-3",children:[(0,v.jsxs)(u.A.Text,{children:[(0,v.jsx)(g.A,{})," "]}),(0,v.jsx)(m.A.Control,{type:"password",name:"password",value:k.values.password,onChange:k.handleChange,onBlur:k.handleBlur,isInvalid:k.touched.password&&k.errors.password,placeholder:"Password"}),(0,v.jsx)(m.A.Control.Feedback,{type:"invalid",children:k.errors.password})]})]}),(0,v.jsx)(m.A.Control,{style:{display:"none"},name:"honeypot",onChange:k.handleChange,value:k.values.honeypot}),(0,v.jsx)(p.A,{variant:"secondary",className:"mt-2",type:"submit",children:"Login"})]}),a&&(0,v.jsx)(h.A,{variant:"danger",className:"mt-3",children:a}),(0,v.jsxs)("div",{className:"mt-3",children:["No account yet? ",(0,v.jsx)(f.N_,{to:"/signup",children:"Sign up here"})]})]})}},3170:(e,s,a)=>{a.d(s,{A:()=>d});var r=a(5043),n=a(5173),l=a.n(n),o=["color","size","title","className"];function t(){return t=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},t.apply(this,arguments)}function i(e,s){if(null==e)return{};var a,r,n=function(e,s){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],s.indexOf(a)>=0||(n[a]=e[a]);return n}(e,s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],s.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=(0,r.forwardRef)((function(e,s){var a=e.color,n=e.size,l=e.title,c=e.className,d=i(e,o);return r.createElement("svg",t({ref:s,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:a,className:["bi","bi-key-fill",c].filter(Boolean).join(" ")},d),l?r.createElement("title",null,l):null,r.createElement("path",{d:"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2M2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2"}))}));c.propTypes={color:l().string,size:l().oneOfType([l().string,l().number]),title:l().string,className:l().string},c.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const d=c},1719:(e,s,a)=>{a.d(s,{A:()=>b});var r=a(8139),n=a.n(r),l=a(5043),o=a(7121),t=a(1456),i=a(7852),c=a(4488),d=a(579);const m=(0,c.A)("h4");m.displayName="DivStyledAsH4";const u=l.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:l=m,...o}=e;return r=(0,i.oU)(r,"alert-heading"),(0,d.jsx)(l,{ref:s,className:n()(a,r),...o})}));u.displayName="AlertHeading";const p=u;var h=a(6161);const x=l.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:l=h.A,...o}=e;return r=(0,i.oU)(r,"alert-link"),(0,d.jsx)(l,{ref:s,className:n()(a,r),...o})}));x.displayName="AlertLink";const f=x;var g=a(8072),j=a(5632);const v=l.forwardRef(((e,s)=>{const{bsPrefix:a,show:r=!0,closeLabel:l="Close alert",closeVariant:c,className:m,children:u,variant:p="primary",onClose:h,dismissible:x,transition:f=g.A,...v}=(0,o.Zw)(e,{show:"onClose"}),b=(0,i.oU)(a,"alert"),y=(0,t.A)((e=>{h&&h(!1,e)})),A=!0===f?g.A:f,w=(0,d.jsxs)("div",{role:"alert",...A?void 0:v,ref:s,className:n()(m,b,p&&"".concat(b,"-").concat(p),x&&"".concat(b,"-dismissible")),children:[x&&(0,d.jsx)(j.A,{onClick:y,"aria-label":l,variant:c}),u]});return A?(0,d.jsx)(A,{unmountOnExit:!0,...v,ref:void 0,in:r,children:w}):r?w:null}));v.displayName="Alert";const b=Object.assign(v,{Link:f,Heading:p})},7994:(e,s,a)=>{a.d(s,{A:()=>p});var r=a(8139),n=a.n(r),l=a(5043),o=a(7852),t=a(1068),i=a(9334),c=a(579);const d=l.forwardRef(((e,s)=>{let{className:a,bsPrefix:r,as:l="span",...t}=e;return r=(0,o.oU)(r,"input-group-text"),(0,c.jsx)(l,{ref:s,className:n()(a,r),...t})}));d.displayName="InputGroupText";const m=d,u=l.forwardRef(((e,s)=>{let{bsPrefix:a,size:r,hasValidation:t,className:d,as:m="div",...u}=e;a=(0,o.oU)(a,"input-group");const p=(0,l.useMemo)((()=>({})),[]);return(0,c.jsx)(i.A.Provider,{value:p,children:(0,c.jsx)(m,{ref:s,...u,className:n()(d,a,r&&"".concat(a,"-").concat(r),t&&"has-validation")})})}));u.displayName="InputGroup";const p=Object.assign(u,{Text:m,Radio:e=>(0,c.jsx)(m,{children:(0,c.jsx)(t.A,{type:"radio",...e})}),Checkbox:e=>(0,c.jsx)(m,{children:(0,c.jsx)(t.A,{type:"checkbox",...e})})})}}]);
//# sourceMappingURL=777.e0f94c85.chunk.js.map