"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[622],{3622:function(e,a,r){r.r(a);var s=r(4165),n=r(5861),o=r(9439),l=r(2791),i=r(5705),t=r(8007),d=r(4376),c=r(9829),u=r(7689),m=r(3812),p=r(7022),h=r(9795),f=r(3360),w=r(2469),Z=r(8261),v=r(184),x=t.Ry().shape({email:t.Z_().email("Invalid email").required("Email is required"),password:t.Z_().required("Password is required")});a.default=function(){var e=(0,Z.z)().addNotification,a=(0,l.useState)(null),r=(0,o.Z)(a,2),t=r[0],g=r[1],j=(0,m.a)(),b=j.user,y=j.setUser,C=!!b,k=(0,u.s0)(),B=(0,d.D)(c.O2,{update:function(a,r){var s=r.data;s.login.success?(y(s.login.user),e("Welcome back ".concat(s.login.user.username)),k("/")):g("Wrong username/password.")},onError:function(a){e("Something went wrong: ".concat(a),2e3,"error")}}),S=(0,o.Z)(B,1)[0],E=(0,i.TA)({initialValues:{email:"",password:""},validationSchema:x,onSubmit:function(){var e=(0,n.Z)((0,s.Z)().mark((function e(a){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S({variables:a});case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()});return C?(k("/"),(0,v.jsx)("p",{children:"You are already logged in."})):(0,v.jsxs)(p.Z,{style:{maxWidth:"400px",marginTop:"50px"},children:[(0,v.jsxs)(h.Z,{onSubmit:E.handleSubmit,children:[(0,v.jsxs)(h.Z.Group,{controlId:"formBasicEmail",className:"mt-2 custom-form",children:[(0,v.jsx)(h.Z.Label,{children:"Email address"}),(0,v.jsx)(h.Z.Control,{type:"email",name:"email",value:E.values.email,onChange:E.handleChange,onBlur:E.handleBlur,isInvalid:E.touched.email&&E.errors.email,placeholder:"Enter email"}),(0,v.jsx)(h.Z.Control.Feedback,{type:"invalid",children:E.errors.email})]}),(0,v.jsxs)(h.Z.Group,{controlId:"formBasicPassword",className:"mt-4 custom-form",children:[(0,v.jsx)(h.Z.Label,{children:"Password"}),(0,v.jsx)(h.Z.Control,{type:"password",name:"password",value:E.values.password,onChange:E.handleChange,onBlur:E.handleBlur,isInvalid:E.touched.password&&E.errors.password,placeholder:"Password"}),(0,v.jsx)(h.Z.Control.Feedback,{type:"invalid",children:E.errors.password})]}),(0,v.jsx)(f.Z,{variant:"secondary",className:"mt-2",type:"submit",children:"Login"})]}),t&&(0,v.jsx)(w.Z,{variant:"danger",className:"mt-3",children:t})]})}}}]);
//# sourceMappingURL=622.73ed4f66.chunk.js.map