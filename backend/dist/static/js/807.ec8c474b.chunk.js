"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[807],{6916:function(e,n,t){t(2791);var r=t(7022),o=t(2469),a=t(3360),i=t(184);n.Z=function(e){var n=e.message,t=e.onRetry;return(0,i.jsx)(r.Z,{className:"mt-5",children:(0,i.jsxs)(o.Z,{variant:"danger",children:[(0,i.jsx)(o.Z.Heading,{children:"Oh snap! An error occurred."}),(0,i.jsx)("p",{children:n||"Something went wrong. Please try again later."}),t&&(0,i.jsx)(a.Z,{variant:"primary",onClick:t,children:"Retry"})]})})}},3807:function(e,n,t){t.r(n);var r=t(3433),o=t(9439),a=t(2791),i=t(1087),s=t(6578),l=t(7022),c=t(9743),d=t(2677),u=t(3360),f=t(1398),Z=t(9140),h=t(5316),m=t(9829),x=t(6916),v=t(184);n.default=function(){var e=(0,s.a)(m.Dz),n=e.loading,t=e.error,b=e.data,g=(0,a.useState)([]),p=(0,o.Z)(g,2),y=p[0],j=p[1],N=(0,a.useState)(!1),w=(0,o.Z)(N,2),C=w[0],E=w[1],k=(0,a.useState)(null),S=(0,o.Z)(k,2),R=S[0],A=S[1],D=(0,a.useState)([]),F=(0,o.Z)(D,2),H=F[0],T=F[1],O=(0,a.useState)(null),P=(0,o.Z)(O,2),L=P[0],B=P[1];(0,a.useEffect)((function(){if(b&&b.getAllStories){j(b.getAllStories);var e=(0,r.Z)(new Set(b.getAllStories.map((function(e){return e.genre}))));T(e)}}),[b]);return n?(0,v.jsx)("div",{children:"Loading..."}):t?(0,v.jsx)(x.Z,{message:t.message}):(0,v.jsx)(l.Z,{children:(0,v.jsx)(c.Z,{children:(0,v.jsxs)(d.Z,{children:[(0,v.jsx)("h1",{children:"All Stories"}),(0,v.jsx)("div",{children:H.map((function(e,n){return(0,v.jsx)(u.Z,{onClick:function(){return function(e){if(L===e)B(null),j(b.getAllStories);else{B(e);var n=b.getAllStories.filter((function(n){return n.genre===e}));j(n)}}(e)},variant:L===e?"dark":"outline-dark",className:"m-2",children:e},n)}))}),(0,v.jsx)(f.Z,{children:y.map((function(e){return(0,v.jsx)(f.Z.Item,{onClick:function(){return function(e){A(e),E(!0)}(e)},children:(0,v.jsx)(Z.Z,{children:(0,v.jsx)(Z.Z.Body,{children:(0,v.jsxs)(c.Z,{children:[(0,v.jsxs)(d.Z,{xs:8,children:[(0,v.jsxs)(Z.Z.Title,{children:[e.title," ",(0,v.jsxs)("small",{className:"text-muted",children:["by ",e.author.username]}),(0,v.jsx)("small",{style:{fontSize:"0.6em",paddingLeft:"5px"},children:"(Click for details)"})]}),(0,v.jsx)(Z.Z.Subtitle,{className:"mb-2 text-muted",children:e.genre})]}),(0,v.jsx)(d.Z,{xs:4,className:"text-right",children:(0,v.jsx)(i.rU,{to:"/story/".concat(e.id),children:(0,v.jsx)(u.Z,{variant:"secondary",children:"Read Story"})})})]})})})},e.id)}))}),R&&(0,v.jsxs)(h.Z,{show:C,onHide:function(){E(!1)},children:[(0,v.jsx)(h.Z.Header,{closeButton:!0,children:(0,v.jsx)(h.Z.Title,{children:R.title})}),(0,v.jsxs)(h.Z.Body,{children:[(0,v.jsx)("p",{children:R.description}),(0,v.jsx)(i.rU,{to:"/story/".concat(R.id),children:(0,v.jsx)(u.Z,{variant:"secondary",children:"Read Story"})})]})]})]})})})}},2469:function(e,n,t){var r=t(1413),o=t(5987),a=t(1694),i=t.n(a),s=t(2791),l=t(239),c=t(9007),d=t(6445),u=t(162),f=t(2709),Z=t(473),h=t(7472),m=t(6543),x=t(184),v=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],b=(0,h.Z)("h4");b.displayName="DivStyledAsH4";var g=(0,m.Z)("alert-heading",{Component:b}),p=(0,m.Z)("alert-link",{Component:d.Z}),y=s.forwardRef((function(e,n){var t=(0,l.Ch)(e,{show:"onClose"}),a=t.bsPrefix,s=t.show,d=void 0===s||s,h=t.closeLabel,m=void 0===h?"Close alert":h,b=t.closeVariant,g=t.className,p=t.children,y=t.variant,j=void 0===y?"primary":y,N=t.onClose,w=t.dismissible,C=t.transition,E=void 0===C?f.Z:C,k=(0,o.Z)(t,v),S=(0,u.vE)(a,"alert"),R=(0,c.Z)((function(e){N&&N(!1,e)})),A=!0===E?f.Z:E,D=(0,x.jsxs)("div",(0,r.Z)((0,r.Z)({role:"alert"},A?void 0:k),{},{ref:n,className:i()(g,S,j&&"".concat(S,"-").concat(j),w&&"".concat(S,"-dismissible")),children:[w&&(0,x.jsx)(Z.Z,{onClick:R,"aria-label":m,variant:b}),p]}));return A?(0,x.jsx)(A,(0,r.Z)((0,r.Z)({unmountOnExit:!0},k),{},{ref:void 0,in:d,children:D})):d?D:null}));y.displayName="Alert",n.Z=Object.assign(y,{Link:p,Heading:g})},5316:function(e,n,t){t.d(n,{Z:function(){return U}});var r,o=t(9439),a=t(5987),i=t(1413),s=t(1694),l=t.n(s),c=t(3070),d=t(7357),u=t(8376),f=t(6382);function Z(e){if((!r&&0!==r||e)&&d.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),r=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return r}var h=t(7731),m=t(9007),x=t(3201),v=t(1683),b=t(3690),g=t(2791),p=t(2121),y=t(5592),j=t(2709),N=t(6543),w=(0,N.Z)("modal-body"),C=t(9820),E=t(162),k=t(184),S=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],R=g.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,o=e.contentClassName,s=e.centered,c=e.size,d=e.fullscreen,u=e.children,f=e.scrollable,Z=(0,a.Z)(e,S);t=(0,E.vE)(t,"modal");var h="".concat(t,"-dialog"),m="string"===typeof d?"".concat(t,"-fullscreen-").concat(d):"".concat(t,"-fullscreen");return(0,k.jsx)("div",(0,i.Z)((0,i.Z)({},Z),{},{ref:n,className:l()(h,r,c&&"".concat(t,"-").concat(c),s&&"".concat(h,"-centered"),f&&"".concat(h,"-scrollable"),d&&m),children:(0,k.jsx)("div",{className:l()("".concat(t,"-content"),o),children:u})}))}));R.displayName="ModalDialog";var A=R,D=(0,N.Z)("modal-footer"),F=t(2086),H=["bsPrefix","className","closeLabel","closeButton"],T=g.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,o=e.closeLabel,s=void 0===o?"Close":o,c=e.closeButton,d=void 0!==c&&c,u=(0,a.Z)(e,H);return t=(0,E.vE)(t,"modal-header"),(0,k.jsx)(F.Z,(0,i.Z)((0,i.Z)({ref:n},u),{},{className:l()(r,t),closeLabel:s,closeButton:d}))}));T.displayName="ModalHeader";var O=T,P=(0,t(7472).Z)("h4"),L=(0,N.Z)("modal-title",{Component:P}),B=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function z(e){return(0,k.jsx)(j.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}function I(e){return(0,k.jsx)(j.Z,(0,i.Z)((0,i.Z)({},e),{},{timeout:null}))}var M=g.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,s=e.style,j=e.dialogClassName,N=e.contentClassName,w=e.children,S=e.dialogAs,R=void 0===S?A:S,D=e["aria-labelledby"],F=e["aria-describedby"],H=e["aria-label"],T=e.show,O=void 0!==T&&T,P=e.animation,L=void 0===P||P,M=e.backdrop,U=void 0===M||M,_=e.keyboard,K=void 0===_||_,W=e.onEscapeKeyDown,V=e.onShow,q=e.onHide,G=e.container,J=e.autoFocus,Q=void 0===J||J,X=e.enforceFocus,Y=void 0===X||X,$=e.restoreFocus,ee=void 0===$||$,ne=e.restoreFocusOptions,te=e.onEntered,re=e.onExit,oe=e.onExiting,ae=e.onEnter,ie=e.onEntering,se=e.onExited,le=e.backdropClassName,ce=e.manager,de=(0,a.Z)(e,B),ue=(0,g.useState)({}),fe=(0,o.Z)(ue,2),Ze=fe[0],he=fe[1],me=(0,g.useState)(!1),xe=(0,o.Z)(me,2),ve=xe[0],be=xe[1],ge=(0,g.useRef)(!1),pe=(0,g.useRef)(!1),ye=(0,g.useRef)(null),je=(0,h.Z)(),Ne=(0,o.Z)(je,2),we=Ne[0],Ce=Ne[1],Ee=(0,x.Z)(n,Ce),ke=(0,m.Z)(q),Se=(0,E.SC)();t=(0,E.vE)(t,"modal");var Re=(0,g.useMemo)((function(){return{onHide:ke}}),[ke]);function Ae(){return ce||(0,y.t)({isRTL:Se})}function De(e){if(d.Z){var n=Ae().getScrollbarWidth()>0,t=e.scrollHeight>(0,u.Z)(e).documentElement.clientHeight;he({paddingRight:n&&!t?Z():void 0,paddingLeft:!n&&t?Z():void 0})}}var Fe=(0,m.Z)((function(){we&&De(we.dialog)}));(0,v.Z)((function(){(0,f.Z)(window,"resize",Fe),null==ye.current||ye.current()}));var He=function(){ge.current=!0},Te=function(e){ge.current&&we&&e.target===we.dialog&&(pe.current=!0),ge.current=!1},Oe=function(){be(!0),ye.current=(0,b.Z)(we.dialog,(function(){be(!1)}))},Pe=function(e){"static"!==U?pe.current||e.target!==e.currentTarget?pe.current=!1:null==q||q():function(e){e.target===e.currentTarget&&Oe()}(e)},Le=(0,g.useCallback)((function(e){return(0,k.jsx)("div",(0,i.Z)((0,i.Z)({},e),{},{className:l()("".concat(t,"-backdrop"),le,!L&&"show")}))}),[L,le,t]),Be=(0,i.Z)((0,i.Z)({},s),Ze);Be.display="block";return(0,k.jsx)(C.Z.Provider,{value:Re,children:(0,k.jsx)(p.Z,{show:O,ref:Ee,backdrop:U,container:G,keyboard:!0,autoFocus:Q,enforceFocus:Y,restoreFocus:ee,restoreFocusOptions:ne,onEscapeKeyDown:function(e){K?null==W||W(e):(e.preventDefault(),"static"===U&&Oe())},onShow:V,onHide:q,onEnter:function(e,n){e&&De(e),null==ae||ae(e,n)},onEntering:function(e,n){null==ie||ie(e,n),(0,c.ZP)(window,"resize",Fe)},onEntered:te,onExit:function(e){null==ye.current||ye.current(),null==re||re(e)},onExiting:oe,onExited:function(e){e&&(e.style.display=""),null==se||se(e),(0,f.Z)(window,"resize",Fe)},manager:Ae(),transition:L?z:void 0,backdropTransition:L?I:void 0,renderBackdrop:Le,renderDialog:function(e){return(0,k.jsx)("div",(0,i.Z)((0,i.Z)({role:"dialog"},e),{},{style:Be,className:l()(r,t,ve&&"".concat(t,"-static"),!L&&"show"),onClick:U?Pe:void 0,onMouseUp:Te,"aria-label":H,"aria-labelledby":D,"aria-describedby":F,children:(0,k.jsx)(R,(0,i.Z)((0,i.Z)({},de),{},{onMouseDown:He,className:j,contentClassName:N,children:w}))}))}})})}));M.displayName="Modal";var U=Object.assign(M,{Body:w,Header:O,Title:L,Footer:D,Dialog:A,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})}}]);
//# sourceMappingURL=807.ec8c474b.chunk.js.map