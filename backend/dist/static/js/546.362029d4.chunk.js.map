{"version":3,"file":"static/js/546.362029d4.chunk.js","mappings":"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","sources":["components/Error.jsx","pages/storypage/CommentCard.jsx","pages/storypage/AddComment.jsx","pages/storypage/Comments.jsx","pages/storypage/Chapter.jsx","hooks/likes.js","pages/storypage/Loading.jsx","pages/storypage/StoryPage.jsx"],"sourcesContent":["import React from 'react'\r\nimport { Container, Alert, Button } from 'react-bootstrap'\r\n\r\nconst ErrorComponent = ({ message, onRetry }) => {\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <Alert variant=\"danger\">\r\n        <Alert.Heading>Oh snap! An error occurred.</Alert.Heading>\r\n        <p>{message || 'Something went wrong. Please try again later.'}</p>\r\n        {onRetry && <Button variant=\"primary\" onClick={onRetry}>Retry</Button>}\r\n      </Alert>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default ErrorComponent","import React from 'react'\r\nimport { Card, Row, Col, Button } from 'react-bootstrap'\r\nimport { Popconfirm } from 'antd'\r\nimport { Link } from 'react-router-dom'\r\nimport { useMutation } from '@apollo/client'\r\nimport { DELETE_COMMENT } from '../../api/queries'\r\nimport { useNotifications } from '../../components/NotificationsContext'\r\n\r\nconst CommentCard = ({ comment, user, deleteComment }) => {\r\n  const { addNotification } = useNotifications()\r\n  const [delComment] = useMutation(DELETE_COMMENT)\r\n\r\n  const confirm = async () => {\r\n    try {\r\n      const { data } = await delComment({\r\n        variables: {\r\n          commentId: comment.id\r\n        }\r\n      })\r\n      console.log(data)\r\n      deleteComment(comment.id)\r\n      addNotification('Comment deleted successfully!', 3000, 'success')\r\n    } catch (error) {\r\n      console.error('There was an error deleting the comment:', error)\r\n      addNotification(error.message, 3000, 'error')\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <Card className=\"mt-3\">\r\n      <Card.Body>\r\n        <Row>\r\n          <Col xs={3} md={1}>\r\n            <img\r\n              src={`https://www.gravatar.com/avatar/${comment.user.email}?s=400&d=robohash`}\r\n              className=\"img-fluid rounded-circle\"\r\n              alt=\"User Gravatar\"\r\n            />\r\n          </Col>\r\n          <Col xs={8} md={10}>\r\n            <Card.Title><Link style={{ color: 'inherit', textDecoration: 'inherit' }} to={`/user/${comment.user.id}`}>{comment.user.username}</Link></Card.Title>\r\n            <Card.Text>{comment.content}</Card.Text>\r\n          </Col>\r\n          <Col xs={1} md={1} className=\"d-flex align-items-start justify-content-end\">\r\n            {user && (\r\n              <>\r\n                {user.id === comment.user.id && (\r\n                  <Popconfirm\r\n                    title=\"Delete your comment?\"\r\n                    description=\"Are you sure you want to delete your comment?\"\r\n                    onConfirm={confirm}\r\n                    okText=\"Yes\"\r\n                    cancelText=\"No\"\r\n                  >\r\n                    <Button variant=\"danger\">Delete</Button>\r\n                  </Popconfirm>\r\n                )}\r\n\r\n                {user.has_superpowers && (\r\n                  <Popconfirm\r\n                    title=\"Admin Delete\"\r\n                    description=\"Are you sure you want to delete this user's comment as an admin?\"\r\n                    onConfirm={confirm}\r\n                    okText=\"Yes\"\r\n                    cancelText=\"No\"\r\n                  >\r\n                    <Button variant=\"warning\">Admin Delete</Button>\r\n                  </Popconfirm>\r\n                )}\r\n              </>\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default CommentCard\r\n","import { useFormik } from 'formik'\r\nimport * as Yup from 'yup'\r\nimport { Form, Button } from 'react-bootstrap'\r\nimport { useNotifications } from '../../components/NotificationsContext'\r\nimport { useMutation } from '@apollo/client'\r\nimport { ADD_COMMENT_MUTATION } from '../../api/queries'\r\n\r\nconst validationSchema = Yup.object({\r\n  content: Yup.string()\r\n    .required('Required')\r\n    .min(10, 'Comment must be atleast 10 characters')\r\n    .max(1000, 'Must be 1000 characters or less')\r\n})\r\n\r\nconst initialValues = {\r\n  content: '',\r\n  honeypot: ''\r\n}\r\n\r\nconst AddCommentForm = ({ chapterId, addNewComment }) => {\r\n  const { addNotification } = useNotifications()\r\n\r\n  const [addComment] = useMutation(ADD_COMMENT_MUTATION)\r\n\r\n  const formik = useFormik({\r\n    initialValues,\r\n    validationSchema,\r\n    onSubmit: async (values) => {\r\n      console.log(chapterId)\r\n      if (values.honeypot) {\r\n        console.log('Bot detected')\r\n        return\r\n      }\r\n      // eslint-disable-next-line no-undef\r\n      grecaptcha.ready(async () => {\r\n        // eslint-disable-next-line no-undef\r\n        const token = await grecaptcha.execute('6LfY0fooAAAAAKaljIbo723ZiMGApMCVg6ZU805o', { action: 'submit' })\r\n\r\n\r\n        try {\r\n\r\n          const { data } = await addComment({\r\n            variables: {\r\n              Input: {\r\n                content: values.content,\r\n                chapterId\r\n              },\r\n              token: token\r\n            }\r\n          })\r\n\r\n          addNewComment(data.addComment)\r\n          addNotification('Comment added successfully!', 3000, 'success')\r\n          formik.resetForm()\r\n        } catch (error) {\r\n          console.error('There was an error adding the comment:', error)\r\n          addNotification(error.message, 3000, 'error')\r\n        }})\r\n    },\r\n  })\r\n\r\n  return (\r\n    <div className=\"add-comment-container mt-3\">\r\n      <h2>Add a Comment</h2>\r\n      <Form onSubmit={formik.handleSubmit}>\r\n\r\n        <Form.Group controlId=\"commentContent\" className='my-2 custom-form'>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            name=\"content\"\r\n            placeholder=\"Your comment...\"\r\n            onChange={formik.handleChange}\r\n            onBlur={formik.handleBlur}\r\n            value={formik.values.content}\r\n            isInvalid={formik.touched.content && formik.errors.content}\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            {formik.errors.content}\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n\r\n        <Form.Control style={{ display: 'none' }} name=\"honeypot\" onChange={formik.handleChange} value={formik.values.honeypot} />\r\n\r\n        <Button variant=\"secondary\" type=\"submit\">Submit</Button>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddCommentForm\r\n","import { useState } from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport CommentCard from './CommentCard'\r\nimport AddCommentForm from './AddComment'\r\nimport { useAuth } from '../auth/AuthContext'\r\n\r\nconst Comments = ({ comments: initialComments, chapterId }) => {\r\n  const { user } = useAuth()\r\n  const isAuthenticated = !!user\r\n  const [comments, setComments] = useState(initialComments)\r\n\r\n  const addNewComment = (newComment) => {\r\n    setComments(prevComments => [...prevComments, newComment])\r\n  }\r\n  const deleteComment = (commentId) => {\r\n    setComments(prevComments => prevComments.filter(comment => comment.id !== commentId))\r\n  }\r\n\r\n  return (\r\n\r\n    <Container fluid className='my-4 py-2'>\r\n      <h1>Comments</h1>\r\n      {}\r\n      {comments && comments.length > 0 ? comments.map(comment => (\r\n        <CommentCard key={comment.id} comment={comment} user={user} deleteComment={deleteComment} />\r\n      )): isAuthenticated ? <p>No comments yet, be first to comment!</p> : <p>No comments yet, <a href=\"/login\">login</a> or <a href=\"/signup\">signup</a> to comment!</p>}{isAuthenticated && <AddCommentForm chapterId={chapterId} addNewComment={addNewComment} />}\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Comments\r\n","import { useState, useEffect } from 'react'\r\nimport DOMPurify from 'dompurify'\r\nimport './chapter.css'\r\nimport { Button } from 'react-bootstrap'\r\nimport { useAuth } from '../auth/AuthContext'\r\nimport { ArrowLeft, HandThumbsUpFill } from 'react-bootstrap-icons'\r\nimport { useLikeUnlikeChapter, useIsChapterLiked } from '../../hooks/likes'\r\nimport Comments from './Comments'\r\nimport { Popconfirm } from 'antd'\r\nimport { useMutation } from '@apollo/client'\r\nimport { DELETE_CHAPTER, DELETE_STORY } from '../../api/queries'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useNotifications } from '../../components/NotificationsContext'\r\n\r\n\r\nconst Chapter = ({ chapter, childChapters, onNavigate, onAddChapter, onGoBack, isLoading }) => {\r\n  const { addNotification } = useNotifications()\r\n  const navigate = useNavigate()\r\n  const [deleteChapter] = useMutation(DELETE_CHAPTER)\r\n  const [deleteStory] = useMutation(DELETE_STORY)\r\n  const [isLiked, setIsLiked] = useState(null)\r\n  const [isDisabled, setIsDisabled] = useState(false)\r\n\r\n  const initialIsLiked = useIsChapterLiked(chapter.id)\r\n  useEffect(() => {\r\n    setIsLiked(initialIsLiked)\r\n  }, [initialIsLiked])\r\n\r\n  const toggleLikeUnlike = useLikeUnlikeChapter()\r\n\r\n  const handleButton = async () => {\r\n    setIsDisabled(true)\r\n\r\n    if (!isLiked) {\r\n      const result = await toggleLikeUnlike(true, chapter.id)\r\n      chapter.votes_count = chapter.votes_count + 1\r\n      setIsLiked(true)\r\n      console.log('Like result:', result)}\r\n    else {const result = await toggleLikeUnlike(false, chapter.id)\r\n      setIsLiked(false)\r\n      chapter.votes_count = chapter.votes_count- 1\r\n      console.log('Unlike result:', result)}\r\n\r\n    setTimeout(() => {\r\n      setIsDisabled(false)\r\n    }, 1000)\r\n  }\r\n  const handleDelete = async () => {\r\n    console.log(chapter)\r\n    try {\r\n      if (chapter.branch === 0) {\r\n        const response = await deleteStory({\r\n          variables: { id: chapter.story.id }\r\n        })\r\n\r\n        if (response.data.deleteStory.success) {\r\n          addNotification(response.data.deleteStory.message, 3000, 'success')\r\n          navigate('/')\r\n          console.log('Story deleted successfully')\r\n        } else {\r\n          console.error(response.data.deleteStory.message)\r\n          addNotification(response.data.deleteStory.message, 3000, 'error')\r\n        }\r\n\r\n      } else {\r\n        const response = await deleteChapter({\r\n          variables: { id: chapter.id }\r\n        })\r\n\r\n        if (response.data.deleteChapter.success) {\r\n          addNotification(response.data.deleteChapter.message, 3000, 'success')\r\n          navigate('/')\r\n          console.log('Chapter deleted successfully')\r\n        } else {\r\n          console.error(response.data.deleteChapter.message)\r\n          addNotification(response.data.deleteChapter.message, 3000, 'error')\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting:', error)\r\n    }\r\n  }\r\n\r\n\r\n\r\n  const { user } = useAuth()\r\n  const isAuthenticated = !!user\r\n  const sanitizedHTML = DOMPurify.sanitize(chapter.content)\r\n\r\n  return (\r\n    <div className=\"chapter\">\r\n\r\n      <Button variant='secondary' className=\"mb-3\" onClick={() => onGoBack()}>\r\n        < ArrowLeft />\r\n      </Button>\r\n      <div className='chapter-content shadow my-2' dangerouslySetInnerHTML={{ __html: sanitizedHTML }} />\r\n      <div className=\"chapter-stats m-2\">\r\n        {\r\n          isAuthenticated ? (\r\n            user.id === chapter.author.id ? ( childChapters.length === 0 ?\r\n              <>\r\n                <Popconfirm\r\n                  title={chapter.branch === 0 ?'Delete story' : 'Delete chapter'}\r\n                  description={chapter.branch === 0 ? 'Are you sure you want to delete this story': 'Are you sure you want to delete this chapter'}\r\n                  onConfirm={handleDelete}\r\n                  okText='Yes'\r\n                  cancelText='No'\r\n                >\r\n                  <Button variant='danger'>Delete</Button>\r\n                </Popconfirm><span>Likes:</span></>\r\n              : <span>Likes: </span>) : (\r\n              <Button\r\n                disabled={isDisabled}\r\n                variant={isLiked ? 'success' : 'secondary'}\r\n                className=\"mt-2\"\r\n                onClick={() => handleButton()}\r\n              >\r\n                <HandThumbsUpFill />\r\n              </Button>\r\n            )\r\n          ) : (\r\n            <span>Likes:</span>\r\n          )\r\n        }\r\n        {user ? user.has_superpowers && <Popconfirm\r\n          title={chapter.branch === 0 ?'Delete story' : 'Delete chapter'}\r\n          description={chapter.branch === 0 ? 'Are you sure you want to delete this story': 'Are you sure you want to delete this chapter'}\r\n          onConfirm={handleDelete}\r\n          okText='Yes'\r\n          cancelText='No'\r\n        >\r\n          <Button variant='danger'>Admin delete</Button>\r\n        </Popconfirm> : <></>}\r\n        <span>{chapter.votes_count}</span>\r\n      </div>\r\n      <div className=\"next-chapters m-2\">\r\n        {!isLoading && isAuthenticated && childChapters.length < 3 && chapter.branch < 9 && (\r\n          <Button variant='secondary' className=\"mr-3 mt-2\" onClick={() => onAddChapter()}>Add Chapter</Button>\r\n        )}\r\n        {childChapters.map(child => (\r\n          <Button variant='secondary' className=\"mr-3 mt-2\" key={child.id} onClick={() => onNavigate(child.id)}>\r\n            Continue to: {child.title}\r\n          </Button>\r\n        ))}\r\n\r\n      </div>\r\n      <Comments key={chapter.id} comments={chapter.comments} chapterId={chapter.id}/>\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chapter\r\n","import { useQuery, useMutation } from '@apollo/client'\r\nimport { LIKE_CHAPTER, IS_CHAPTER_LIKED, UNLIKE_CHAPTER } from '../api/queries'\r\nimport { useNotifications } from '../components/NotificationsContext'\r\n\r\nexport const useIsChapterLiked = (id) => {\r\n  const { data } = useQuery(IS_CHAPTER_LIKED, {\r\n    variables: { id }\r\n  })\r\n\r\n  return data ? data.isChapterLiked : false\r\n}\r\n\r\n\r\nexport const useLikeUnlikeChapter = () => {\r\n  const { addNotification } = useNotifications()\r\n  const [likeChapterMutation] = useMutation(LIKE_CHAPTER)\r\n  const [unlikeChapterMutation] = useMutation(UNLIKE_CHAPTER)\r\n\r\n  const toggleLikeUnlike = async (like, id) => {\r\n    if (like) {\r\n      const { data } = await likeChapterMutation({ variables: { id } })\r\n      addNotification('Chapter liked', 1000, 'success')\r\n      return data.likeChapter\r\n    } else {\r\n      const { data } = await unlikeChapterMutation({ variables: { id } })\r\n      addNotification('Like removed', 1000, 'error')\r\n      return data.unlikeChapter\r\n    }\r\n  }\r\n\r\n  return toggleLikeUnlike\r\n}\r\n","import { Spin } from 'antd'\r\nimport { Card } from 'react-bootstrap'\r\n\r\nconst loadingTexts = [\r\n  'Your epic saga is so vast, even our scrolls are taking a while. Hang tight!',\r\n  'Your tale\\'s intrigue has our library elves on their toes. One moment!',\r\n  'Such a legendary story requires some extra ink and quill. Bear with us...',\r\n  'Even the grand storytellers of old would be impressed! Prepping your narrative...',\r\n  'Your chapters are so gripping, our books needed a breather. Stay tuned...',\r\n  'Paging all scribes! Your monumental tale is on the way...',\r\n  'Even our magic mirrors need a second to capture the grandeur of your plot. Patience!',\r\n  'Your story has so many layers, even the onions are jealous. Peeling back the pages...',\r\n  'With tales as epic as yours, even the stars stop to listen. Setting the stage...',\r\n  'Weaving tales this intricate takes a touch of sorcery. Conjuring your story...'\r\n]\r\n\r\nconst getRandomLoadingText = () => {\r\n  return loadingTexts[Math.floor(Math.random() * loadingTexts.length)]\r\n}\r\n\r\nconst LoadingComponent = () => {\r\n  return (\r\n    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '80vh' }}>\r\n      <Card style={{ width: '300px', textAlign: 'center' }}>\r\n        <Card.Body>\r\n          <Spin size=\"large\" />\r\n          <Card.Title>Fetching the Story...</Card.Title>\r\n          <Card.Text>\r\n            {getRandomLoadingText()}\r\n          </Card.Text>\r\n        </Card.Body>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoadingComponent","import { useState, useEffect } from 'react'\r\nimport { useQuery, useLazyQuery } from '@apollo/client'\r\nimport { useNavigate, useParams, useLocation, Link } from 'react-router-dom'\r\nimport Chapter from './Chapter'\r\nimport { Container, Row, Col, Card } from 'react-bootstrap'\r\nimport { GET_STORY_BY_ID, GET_CHAPTER_CHILDREN, GET_CHAPTER } from '../../api/queries'\r\nimport LoadingComponent from './Loading'\r\nimport ErrorComponent from '../../components/Error'\r\n\r\nconst StoryPage = () => {\r\n  const navigate = useNavigate()\r\n  const { storyId, chapterId } = useParams()\r\n\r\n  //GraphQL queries\r\n  const { data, loading, error } = useQuery(GET_STORY_BY_ID, {\r\n    variables: { id: storyId, chapterId },\r\n  })\r\n  const [getChildChapters, { data: childChaptersData, loading: childChaptersLoading }] = useLazyQuery(GET_CHAPTER_CHILDREN)\r\n  const [getParentChapter, { data: parentChapterData }] = useLazyQuery(GET_CHAPTER)\r\n\r\n  const location = useLocation()\r\n  const { chapter, navigationStack: newNavigationStack } = location.state || {}\r\n\r\n  const [currentChapter, setCurrentChapter] = useState(null)\r\n  const [navigationStack, setNavigationStack] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (chapter) {\r\n      setCurrentChapter(chapter)\r\n      window.history.replaceState(null, '', `/story/${storyId}/chapter/${chapter.id}`)\r\n      if (newNavigationStack) {\r\n        setNavigationStack(newNavigationStack)\r\n      }\r\n    } else if (data && data.getStory && data.getStory.chapters) {\r\n      setCurrentChapter(data.getStory.chapters[0])\r\n    }\r\n  }, [chapter, data, newNavigationStack, storyId])\r\n  useEffect(() => {\r\n    if (currentChapter) {\r\n      getChildChapters({ variables: { id: currentChapter.id } })\r\n    }\r\n  }, [currentChapter, getChildChapters])\r\n  useEffect(() => {\r\n    if (parentChapterData && parentChapterData.getChapter) {\r\n      setCurrentChapter(parentChapterData.getChapter)\r\n      window.history.replaceState(null, '', `/story/${storyId}/chapter/${parentChapterData.getChapter.id}`)\r\n    }\r\n  }, [parentChapterData, storyId])\r\n\r\n  if (loading) return <LoadingComponent />\r\n  if (error) return <ErrorComponent message={error.message} />\r\n\r\n  const navigateToChapter = (chapterId) => {\r\n    let chaptersArray\r\n\r\n    if (childChaptersData && childChaptersData.getChapterChildren) {\r\n      chaptersArray = childChaptersData.getChapterChildren\r\n    } else if (data && data.getStory && Array.isArray(data.getStory.chapters)) {\r\n      chaptersArray = data.getStory.chapters\r\n    }\r\n    window.scrollTo({ top: 0, behavior: 'smooth' })\r\n    setNavigationStack([...navigationStack, currentChapter])\r\n    const selectedChapter = chaptersArray.find(chapter => chapter.id === chapterId)\r\n    if (!selectedChapter) {\r\n      console.log('Chapter not found with the given ID:', chapterId)\r\n      return\r\n    }\r\n    setCurrentChapter(selectedChapter)\r\n    window.history.replaceState(null, '', `/story/${storyId}/chapter/${selectedChapter.id}`)\r\n    getChildChapters({ variables: { id: selectedChapter.id } })\r\n  }\r\n\r\n  const goBack = () => {\r\n    const lastChapter = navigationStack.pop()\r\n    window.scrollTo({ top: 0, behavior: 'smooth' })\r\n    console.log(currentChapter)\r\n    setNavigationStack([...navigationStack])\r\n    if (lastChapter) {\r\n      setCurrentChapter(lastChapter)\r\n      window.history.replaceState(null, '', `/story/${storyId}/chapter/${lastChapter.id}`)\r\n    } else if (currentChapter && currentChapter.parentChapterId) {\r\n      getParentChapter({ variables: { getChapterId: currentChapter.parentChapterId } })\r\n    } else {\r\n      navigate('/')\r\n    }\r\n  }\r\n\r\n  const handleAddChapter = ( ) => {\r\n    navigate('/add-chapter', {\r\n      state: {\r\n        storyId: storyId,\r\n        parentChapter: currentChapter,\r\n        navigationStack: navigationStack\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <Row>\r\n        <Col md={9}>\r\n          {currentChapter && (\r\n            <Chapter\r\n              chapter={currentChapter}\r\n              childChapters={childChaptersData ? childChaptersData.getChapterChildren : []}\r\n              onNavigate={navigateToChapter}\r\n              onAddChapter={handleAddChapter}\r\n              onGoBack={goBack}\r\n              isLoading={childChaptersLoading}\r\n            />\r\n          )}\r\n        </Col>\r\n        <Col md={3}>\r\n          {currentChapter &&\r\n            <Card>\r\n              <Card.Body>\r\n                <Card.Title>{data.getStory.title}</Card.Title>\r\n                <Card.Subtitle className=\"mb-2 text-muted\">{data.getStory.genre}</Card.Subtitle>\r\n                {currentChapter.title && <Card.Text>Chapter {currentChapter.branch+1}:<br /> { currentChapter.title }</Card.Text> }\r\n                <Card.Text><span>Reads: {currentChapter && currentChapter.reads_count}</span></Card.Text>\r\n                <Card.Text><small className=\"text-muted\">Written by: {currentChapter ?\r\n                  <Link to={`/user/${currentChapter.author.id}`}>{currentChapter.author.username}</Link> :\r\n                  <Link to={`/user/${data.getStory.author.id}`}>{data.getStory.author.username}</Link> }\r\n                </small>\r\n                </Card.Text>\r\n                {currentChapter.branch === 0 ?<Card.Text>{data.getStory.description}</Card.Text>:null}\r\n                {currentChapter.author.coffee && <Card.Text>Enjoying what {currentChapter.author.username} is writing? <a href={currentChapter.author.coffee} target=\"_blank\" rel=\"noreferrer\"> Buy them a coffee </a>  </Card.Text>}\r\n\r\n              </Card.Body>\r\n            </Card>}\r\n\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default StoryPage\r\n"],"names":["_ref","message","onRetry","_jsx","Container","className","children","_jsxs","Alert","variant","Heading","Button","onClick","comment","user","deleteComment","addNotification","useNotifications","_useMutation","useMutation","DELETE_COMMENT","delComment","_slicedToArray","confirm","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$delComment","data","wrap","_context","prev","next","variables","commentId","id","sent","console","log","t0","error","stop","apply","arguments","Card","Body","Row","Col","xs","md","src","concat","email","alt","Title","Link","style","color","textDecoration","to","username","Text","content","_Fragment","Popconfirm","title","description","onConfirm","okText","cancelText","has_superpowers","validationSchema","Yup","required","min","max","initialValues","honeypot","chapterId","addNewComment","ADD_COMMENT_MUTATION","addComment","formik","useFormik","onSubmit","_onSubmit","_callee2","values","_context2","abrupt","grecaptcha","ready","token","_yield$addComment","execute","action","Input","resetForm","_x","Form","handleSubmit","Group","controlId","Control","as","name","placeholder","onChange","handleChange","onBlur","handleBlur","value","isInvalid","touched","errors","Feedback","type","display","initialComments","comments","useAuth","isAuthenticated","_useState","useState","_useState2","setComments","prevComments","filter","fluid","length","map","CommentCard","href","AddCommentForm","newComment","_toConsumableArray","chapter","childChapters","onNavigate","onAddChapter","onGoBack","isLoading","navigate","useNavigate","DELETE_CHAPTER","deleteChapter","_useMutation3","DELETE_STORY","deleteStory","isLiked","setIsLiked","_useState3","_useState4","isDisabled","setIsDisabled","initialIsLiked","useQuery","IS_CHAPTER_LIKED","isChapterLiked","useIsChapterLiked","useEffect","toggleLikeUnlike","LIKE_CHAPTER","likeChapterMutation","UNLIKE_CHAPTER","unlikeChapterMutation","like","_yield$likeChapterMut","_yield$unlikeChapterM","_data","likeChapter","unlikeChapter","_x2","useLikeUnlikeChapter","handleButton","result","_result","votes_count","setTimeout","handleDelete","_ref3","response","_response","branch","story","success","sanitizedHTML","DOMPurify","ArrowLeft","dangerouslySetInnerHTML","__html","author","disabled","HandThumbsUpFill","child","Comments","loadingTexts","justifyContent","alignItems","height","width","textAlign","Spin","size","Math","floor","random","_useParams","useParams","storyId","_useQuery","GET_STORY_BY_ID","loading","_useLazyQuery","useLazyQuery","GET_CHAPTER_CHILDREN","_useLazyQuery2","getChildChapters","_useLazyQuery2$","childChaptersData","childChaptersLoading","_useLazyQuery3","GET_CHAPTER","_useLazyQuery4","getParentChapter","parentChapterData","useLocation","state","newNavigationStack","navigationStack","currentChapter","setCurrentChapter","setNavigationStack","window","history","replaceState","getStory","chapters","getChapter","LoadingComponent","ErrorComponent","Chapter","getChapterChildren","chaptersArray","Array","isArray","scrollTo","top","behavior","selectedChapter","find","parentChapter","lastChapter","pop","parentChapterId","getChapterId","Subtitle","genre","reads_count","coffee","target","rel"],"sourceRoot":""}