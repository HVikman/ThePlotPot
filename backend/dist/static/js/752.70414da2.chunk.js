"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[752],{1752:(e,s,r)=>{r.r(s),r.d(s,{default:()=>j});var t=r(2791),n=r(6578),a=r(4376),c=r(1694),o=r.n(c),i=r(162),l=r(184);const d=t.forwardRef(((e,s)=>{let{bsPrefix:r,className:t,striped:n,bordered:a,borderless:c,hover:d,size:h,variant:u,responsive:x,...f}=e;const j=(0,i.vE)(r,"table"),m=o()(t,j,u&&"".concat(j,"-").concat(u),h&&"".concat(j,"-").concat(h),n&&"".concat(j,"-").concat("string"===typeof n?"striped-".concat(n):"striped"),a&&"".concat(j,"-bordered"),c&&"".concat(j,"-borderless"),d&&"".concat(j,"-hover")),b=(0,l.jsx)("table",{...f,className:m,ref:s});if(x){let e="".concat(j,"-responsive");return"string"===typeof x&&(e="".concat(e,"-").concat(x)),(0,l.jsx)("div",{className:e,children:b})}return b}));var h=r(3360),u=r(7633),x=r(9829),f=r(1087);const j=()=>{const{loading:e,error:s,data:r}=(0,n.a)(x.A2),[t]=(0,a.D)(x.Kq,{refetchQueries:[{query:x.A2}]}),[c]=(0,a.D)(x.Ew,{refetchQueries:[{query:x.A2}]}),[o]=(0,a.D)(x.AZ,{refetchQueries:[{query:x.A2}]});if(e)return(0,l.jsx)("p",{children:"Loading..."});if(s)return(0,l.jsxs)("p",{children:["Error: ",s.message]});return(0,l.jsxs)(d,{striped:!0,bordered:!0,hover:!0,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"User id"}),(0,l.jsx)("th",{children:"Username"}),(0,l.jsx)("th",{children:"Email"}),(0,l.jsx)("th",{children:"Admin"}),(0,l.jsx)("th",{children:"Coffee"}),(0,l.jsx)("th",{children:"Banned at"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:r.getAllUsers.map((e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.id}),(0,l.jsx)("td",{children:(0,l.jsx)(f.rU,{style:{color:"inherit",textDecoration:"inherit"},to:"/user/".concat(e.id),children:e.username})}),(0,l.jsx)("td",{children:e.email}),(0,l.jsx)("td",{children:e.has_superpowers?"Yes":"No"}),(0,l.jsx)("td",{children:e.coffee?(0,l.jsx)("a",{href:e.coffee,target:"_blank",rel:"noopener noreferrer",children:"Coffee Link"}):"None"}),(0,l.jsx)("td",{children:e.bannedAt&&new Date(Number(e.bannedAt)).toLocaleString()}),(0,l.jsxs)("td",{children:[!e.has_superpowers&&(0,l.jsx)(u.Z,{title:"Are you sure you want to activate this user?",onConfirm:()=>(async e=>{})(e.id),okText:"Yes",cancelText:"No",children:(0,l.jsx)(h.Z,{variant:"success",size:"sm",className:"me-2",children:"Activate"})}),!e.has_superpowers&&(e.bannedAt?(0,l.jsx)(u.Z,{title:"Are you sure you want to unban this user?",onConfirm:()=>(async e=>{try{const s=await c({variables:{id:e}});s.data.unbanUser.success,console.log(s.data)}catch(s){console.log(s)}})(e.id),okText:"Yes",cancelText:"No",children:(0,l.jsx)(h.Z,{variant:"warning",size:"sm",className:"mx-1",children:"Unban"})}):(0,l.jsx)(u.Z,{title:"Are you sure you want to ban this user?",onConfirm:()=>(async e=>{try{const s=await t({variables:{id:e}});s.data.banUser.success,console.log(s.data)}catch(s){console.log(s)}})(e.id),okText:"Yes",cancelText:"No",children:(0,l.jsx)(h.Z,{variant:"danger",size:"sm",className:"mx-1",children:"Ban"})})),(0,l.jsx)(u.Z,{title:"Are you sure you want to delete this user?",onConfirm:()=>(async e=>{if(window.confirm("Are you absolutely sure you want to delete this user? This action cannot be undone."))try{(await o({variables:{id:e}})).data.deleteUser.success?console.log("User deleted successfully"):console.log("Failed to delete user")}catch(s){console.log(s)}})(e.id),okText:"Yes",cancelText:"No",children:(0,l.jsx)(h.Z,{variant:"outline-danger",size:"sm",className:"mx-2",children:"Delete"})})]})]},e.id)))})]})}}}]);
//# sourceMappingURL=752.70414da2.chunk.js.map