"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[997],{7309:(e,s,t)=>{t.d(s,{A:()=>o});t(5043);var a=t(3519),r=t(1719),n=t(4282),l=t(579);const o=e=>{let{message:s,onRetry:t}=e;return(0,l.jsx)(a.A,{className:"mt-5",children:(0,l.jsxs)(r.A,{variant:"danger",children:[(0,l.jsx)(r.A.Heading,{children:"Oh snap! An error occurred."}),(0,l.jsx)("p",{children:s||"Something went wrong. Please try again later."}),t&&(0,l.jsx)(n.A,{variant:"primary",onClick:t,children:"Retry"})]})})}},9997:(e,s,t)=>{t.r(s),t.d(s,{default:()=>g});var a=t(5043),r=t(5475),n=t(8250),l=t(3519),o=t(1072),i=t(8602),c=t(4282),d=t(2223),u=t(8628),m=t(5284),h=t(4743),x=t(7309),f=t(6133),A=(t(4838),t(579));const g=()=>{const{loading:e,error:s,data:t}=(0,n.IT)(h.F4),{isDarkMode:g}=(0,f.D2)(),[j,N]=(0,a.useState)([]),[p,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),[w,k]=(0,a.useState)([]),[S,R]=(0,a.useState)(null);(0,a.useEffect)((()=>{if(t&&t.getAllStories){N(t.getAllStories);const e=[...new Set(t.getAllStories.map((e=>e.genre)))];k(e)}}),[t]);return e?(0,A.jsx)("div",{children:"Loading..."}):s?(0,A.jsx)(x.A,{message:s.message}):(0,A.jsx)(l.A,{children:(0,A.jsx)(o.A,{children:(0,A.jsxs)(i.A,{children:[(0,A.jsx)("h1",{children:"All Stories"}),(0,A.jsx)("div",{children:w.map(((e,s)=>(0,A.jsx)(c.A,{onClick:()=>(e=>{if(S===e)R(null),N(t.getAllStories);else{R(e);const s=t.getAllStories.filter((s=>s.genre===e));N(s)}})(e),variant:g?S===e?"dark":"outline-light":S===e?"dark":"outline-dark",className:"m-2",children:e},s)))}),(0,A.jsx)(d.A,{children:j.map((e=>(0,A.jsx)(d.A.Item,{onClick:()=>(e=>{v(e),y(!0)})(e),className:"".concat(g?"dark-mode":"light-mde"),children:(0,A.jsx)(u.A,{children:(0,A.jsx)(u.A.Body,{className:"".concat(g?"dark-mode":"light-mde"),children:(0,A.jsxs)(o.A,{children:[(0,A.jsxs)(i.A,{xs:8,children:[(0,A.jsxs)(u.A.Title,{children:[e.title," ",(0,A.jsxs)("small",{className:"text-muted",children:["by ",e.author.username]}),(0,A.jsx)("small",{style:{fontSize:"0.6em",paddingLeft:"5px"},children:"(Click for details)"})]}),(0,A.jsx)(u.A.Subtitle,{className:"mb-2 text-muted",children:e.genre})]}),(0,A.jsx)(i.A,{xs:4,className:"text-right",children:(0,A.jsx)(r.N_,{to:"/story/".concat(e.id),children:(0,A.jsx)(c.A,{variant:"secondary",children:"Read Story"})})})]})})})},e.id)))}),b&&(0,A.jsxs)(m.A,{show:p,onHide:()=>{y(!1)},children:[(0,A.jsx)(m.A.Header,{closeButton:!0,className:"".concat(g?"dark-mode":"light-mode"),children:(0,A.jsx)(m.A.Title,{children:b.title})}),(0,A.jsxs)(m.A.Body,{className:"".concat(g?"dark-mode":"light-mode"),children:[(0,A.jsx)("p",{children:b.description}),(0,A.jsx)(r.N_,{to:"/story/".concat(b.id),children:(0,A.jsx)(c.A,{variant:"secondary",children:"Read Story"})})]})]})]})})})}},1719:(e,s,t)=>{t.d(s,{A:()=>p});var a=t(8139),r=t.n(a),n=t(5043),l=t(7121),o=t(1456),i=t(7852),c=t(4488),d=t(579);const u=(0,c.A)("h4");u.displayName="DivStyledAsH4";const m=n.forwardRef(((e,s)=>{let{className:t,bsPrefix:a,as:n=u,...l}=e;return a=(0,i.oU)(a,"alert-heading"),(0,d.jsx)(n,{ref:s,className:r()(t,a),...l})}));m.displayName="AlertHeading";const h=m;var x=t(6161);const f=n.forwardRef(((e,s)=>{let{className:t,bsPrefix:a,as:n=x.A,...l}=e;return a=(0,i.oU)(a,"alert-link"),(0,d.jsx)(n,{ref:s,className:r()(t,a),...l})}));f.displayName="AlertLink";const A=f;var g=t(8072),j=t(5632);const N=n.forwardRef(((e,s)=>{const{bsPrefix:t,show:a=!0,closeLabel:n="Close alert",closeVariant:c,className:u,children:m,variant:h="primary",onClose:x,dismissible:f,transition:A=g.A,...N}=(0,l.Zw)(e,{show:"onClose"}),p=(0,i.oU)(t,"alert"),y=(0,o.A)((e=>{x&&x(!1,e)})),b=!0===A?g.A:A,v=(0,d.jsxs)("div",{role:"alert",...b?void 0:N,ref:s,className:r()(u,p,h&&"".concat(p,"-").concat(h),f&&"".concat(p,"-dismissible")),children:[f&&(0,d.jsx)(j.A,{onClick:y,"aria-label":n,variant:c}),m]});return b?(0,d.jsx)(b,{unmountOnExit:!0,...N,ref:void 0,in:a,children:v}):a?v:null}));N.displayName="Alert";const p=Object.assign(N,{Link:A,Heading:h})},5284:(e,s,t)=>{t.d(s,{A:()=>B});var a,r=t(8139),n=t.n(r),l=t(3043),o=t(8279),i=t(182),c=t(8260);function d(e){if((!a&&0!==a||e)&&o.A){var s=document.createElement("div");s.style.position="absolute",s.style.top="-9999px",s.style.width="50px",s.style.height="50px",s.style.overflow="scroll",document.body.appendChild(s),a=s.offsetWidth-s.clientWidth,document.body.removeChild(s)}return a}var u=t(2667),m=t(1456),h=t(8293),x=t(9109),f=t(4232),A=t(5043),g=t(7713),j=t(5675),N=t(8072),p=t(7852),y=t(579);const b=A.forwardRef(((e,s)=>{let{className:t,bsPrefix:a,as:r="div",...l}=e;return a=(0,p.oU)(a,"modal-body"),(0,y.jsx)(r,{ref:s,className:n()(t,a),...l})}));b.displayName="ModalBody";const v=b;var w=t(1602);const k=A.forwardRef(((e,s)=>{let{bsPrefix:t,className:a,contentClassName:r,centered:l,size:o,fullscreen:i,children:c,scrollable:d,...u}=e;t=(0,p.oU)(t,"modal");const m="".concat(t,"-dialog"),h="string"===typeof i?"".concat(t,"-fullscreen-").concat(i):"".concat(t,"-fullscreen");return(0,y.jsx)("div",{...u,ref:s,className:n()(m,a,o&&"".concat(t,"-").concat(o),l&&"".concat(m,"-centered"),d&&"".concat(m,"-scrollable"),i&&h),children:(0,y.jsx)("div",{className:n()("".concat(t,"-content"),r),children:c})})}));k.displayName="ModalDialog";const S=k,R=A.forwardRef(((e,s)=>{let{className:t,bsPrefix:a,as:r="div",...l}=e;return a=(0,p.oU)(a,"modal-footer"),(0,y.jsx)(r,{ref:s,className:n()(t,a),...l})}));R.displayName="ModalFooter";const C=R;var E=t(2258);const T=A.forwardRef(((e,s)=>{let{bsPrefix:t,className:a,closeLabel:r="Close",closeButton:l=!1,...o}=e;return t=(0,p.oU)(t,"modal-header"),(0,y.jsx)(E.A,{ref:s,...o,className:n()(a,t),closeLabel:r,closeButton:l})}));T.displayName="ModalHeader";const D=T;const H=(0,t(4488).A)("h4"),P=A.forwardRef(((e,s)=>{let{className:t,bsPrefix:a,as:r=H,...l}=e;return a=(0,p.oU)(a,"modal-title"),(0,y.jsx)(r,{ref:s,className:n()(t,a),...l})}));P.displayName="ModalTitle";const U=P;function F(e){return(0,y.jsx)(N.A,{...e,timeout:null})}function O(e){return(0,y.jsx)(N.A,{...e,timeout:null})}const M=A.forwardRef(((e,s)=>{let{bsPrefix:t,className:a,style:r,dialogClassName:N,contentClassName:b,children:v,dialogAs:k=S,"data-bs-theme":R,"aria-labelledby":C,"aria-describedby":E,"aria-label":T,show:D=!1,animation:H=!0,backdrop:P=!0,keyboard:U=!0,onEscapeKeyDown:M,onShow:B,onHide:L,container:I,autoFocus:_=!0,enforceFocus:z=!0,restoreFocus:W=!0,restoreFocusOptions:K,onEntered:V,onExit:Z,onExiting:q,onEnter:G,onEntering:J,onExited:Q,backdropClassName:X,manager:Y,...$}=e;const[ee,se]=(0,A.useState)({}),[te,ae]=(0,A.useState)(!1),re=(0,A.useRef)(!1),ne=(0,A.useRef)(!1),le=(0,A.useRef)(null),[oe,ie]=(0,u.A)(),ce=(0,h.A)(s,ie),de=(0,m.A)(L),ue=(0,p.Wz)();t=(0,p.oU)(t,"modal");const me=(0,A.useMemo)((()=>({onHide:de})),[de]);function he(){return Y||(0,j.R)({isRTL:ue})}function xe(e){if(!o.A)return;const s=he().getScrollbarWidth()>0,t=e.scrollHeight>(0,i.A)(e).documentElement.clientHeight;se({paddingRight:s&&!t?d():void 0,paddingLeft:!s&&t?d():void 0})}const fe=(0,m.A)((()=>{oe&&xe(oe.dialog)}));(0,x.A)((()=>{(0,c.A)(window,"resize",fe),null==le.current||le.current()}));const Ae=()=>{re.current=!0},ge=e=>{re.current&&oe&&e.target===oe.dialog&&(ne.current=!0),re.current=!1},je=()=>{ae(!0),le.current=(0,f.A)(oe.dialog,(()=>{ae(!1)}))},Ne=e=>{"static"!==P?ne.current||e.target!==e.currentTarget?ne.current=!1:null==L||L():(e=>{e.target===e.currentTarget&&je()})(e)},pe=(0,A.useCallback)((e=>(0,y.jsx)("div",{...e,className:n()("".concat(t,"-backdrop"),X,!H&&"show")})),[H,X,t]),ye={...r,...ee};ye.display="block";return(0,y.jsx)(w.A.Provider,{value:me,children:(0,y.jsx)(g.A,{show:D,ref:ce,backdrop:P,container:I,keyboard:!0,autoFocus:_,enforceFocus:z,restoreFocus:W,restoreFocusOptions:K,onEscapeKeyDown:e=>{U?null==M||M(e):(e.preventDefault(),"static"===P&&je())},onShow:B,onHide:L,onEnter:(e,s)=>{e&&xe(e),null==G||G(e,s)},onEntering:(e,s)=>{null==J||J(e,s),(0,l.Ay)(window,"resize",fe)},onEntered:V,onExit:e=>{null==le.current||le.current(),null==Z||Z(e)},onExiting:q,onExited:e=>{e&&(e.style.display=""),null==Q||Q(e),(0,c.A)(window,"resize",fe)},manager:he(),transition:H?F:void 0,backdropTransition:H?O:void 0,renderBackdrop:pe,renderDialog:e=>(0,y.jsx)("div",{role:"dialog",...e,style:ye,className:n()(a,t,te&&"".concat(t,"-static"),!H&&"show"),onClick:P?Ne:void 0,onMouseUp:ge,"data-bs-theme":R,"aria-label":T,"aria-labelledby":C,"aria-describedby":E,children:(0,y.jsx)(k,{...$,onMouseDown:Ae,className:N,contentClassName:b,children:v})})})})}));M.displayName="Modal";const B=Object.assign(M,{Body:v,Header:D,Title:U,Footer:C,Dialog:S,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},4838:()=>{}}]);
//# sourceMappingURL=997.f1f030d0.chunk.js.map