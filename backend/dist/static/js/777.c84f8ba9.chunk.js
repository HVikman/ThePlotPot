"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[777],{2777:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var r=s(5043),n=s(3516),l=s(899),o=s(1881),t=s(4743),i=s(2134),c=s(8729),d=s(3519),m=s(6216),u=s(7994),h=s(4282),p=s(1719),f=s(2915),x=s(3170),v=s(6290),g=s(579);const j=l.Ik().shape({email:l.Yj().email("Invalid email").required("Email is required"),password:l.Yj().required("Password is required")}),b=()=>{const{isDarkMode:e}=(0,v.D2)(),{addNotification:a}=(0,f.E)(),[s,l]=(0,r.useState)(null),{user:b,setUser:y}=(0,c.A)(),w=!!b,A=(0,i.Zp)(),[N]=(0,o.n)(t.CO,{update:(e,s)=>{let{data:r}=s;r.login.success?(y(r.login.user),a("Welcome back ".concat(r.login.user.username)),A("/")):(console.log(r.login),l(r.login.message))},onError:e=>{a("Something went wrong: ".concat(e.message),2e3,"error")}}),C=(0,n.Wx)({initialValues:{email:"",password:"",honeypot:""},validationSchema:j,onSubmit:async e=>{e.honeypot?console.log("Bot detected"):N({variables:e})}});return w?(A("/"),(0,g.jsx)("p",{children:"You are already logged in."})):(0,g.jsxs)(d.A,{style:{maxWidth:"400px",marginTop:"50px"},children:[(0,g.jsxs)(m.A,{onSubmit:C.handleSubmit,className:"".concat(e?"dark-mode":"light-mode"),children:[(0,g.jsxs)(m.A.Group,{controlId:"formBasicEmail",className:"mt-2 custom-form",children:[(0,g.jsx)(m.A.Label,{children:"Email address"}),(0,g.jsxs)(u.A,{className:"mb-3",children:[(0,g.jsx)(u.A.Text,{children:"@"}),(0,g.jsx)(m.A.Control,{type:"email",name:"email",value:C.values.email,onChange:C.handleChange,onBlur:C.handleBlur,isInvalid:C.touched.email&&C.errors.email,placeholder:"Enter email"}),(0,g.jsx)(m.A.Control.Feedback,{type:"invalid",children:C.errors.email})]})]}),(0,g.jsxs)(m.A.Group,{controlId:"formBasicPassword",className:"mt-4 custom-form",children:[(0,g.jsx)(m.A.Label,{children:"Password"}),(0,g.jsxs)(u.A,{className:"mb-3",children:[(0,g.jsxs)(u.A.Text,{children:[(0,g.jsx)(x.A,{})," "]}),(0,g.jsx)(m.A.Control,{type:"password",name:"password",value:C.values.password,onChange:C.handleChange,onBlur:C.handleBlur,isInvalid:C.touched.password&&C.errors.password,placeholder:"Password"}),(0,g.jsx)(m.A.Control.Feedback,{type:"invalid",children:C.errors.password})]})]}),(0,g.jsx)(m.A.Control,{style:{display:"none"},name:"honeypot",onChange:C.handleChange,value:C.values.honeypot}),(0,g.jsx)(h.A,{variant:"secondary",className:"mt-2",type:"submit",children:"Login"})]}),s&&(0,g.jsx)(p.A,{variant:"danger",className:"mt-3",children:s}),(0,g.jsxs)("div",{className:"mt-3",children:["No account yet? ",(0,g.jsx)(i.N_,{to:"/signup",children:"Sign up here"})]})]})}},3170:(e,a,s)=>{s.d(a,{A:()=>c});var r=s(5043),n=s(5173),l=s.n(n),o=["color","size","title","className"];function t(){return t=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var s=arguments[a];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},t.apply(null,arguments)}var i=(0,r.forwardRef)((function(e,a){var s=e.color,n=void 0===s?"currentColor":s,l=e.size,i=void 0===l?"1em":l,c=e.title,d=void 0===c?null:c,m=e.className,u=void 0===m?"":m,h=function(e,a){if(null==e)return{};var s,r,n=function(e,a){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.includes(r))continue;s[r]=e[r]}return s}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],a.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}(e,o);return r.createElement("svg",t({ref:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:i,height:i,fill:n,className:["bi","bi-key-fill",u].filter(Boolean).join(" ")},h),d?r.createElement("title",null,d):null,r.createElement("path",{d:"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2M2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2"}))}));i.propTypes={color:l().string,size:l().oneOfType([l().string,l().number]),title:l().string,className:l().string};const c=i},1719:(e,a,s)=>{s.d(a,{A:()=>b});var r=s(8139),n=s.n(r),l=s(5043),o=s(7121),t=s(1456),i=s(7852),c=s(4488),d=s(579);const m=(0,c.A)("h4");m.displayName="DivStyledAsH4";const u=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l=m,...o}=e;return r=(0,i.oU)(r,"alert-heading"),(0,d.jsx)(l,{ref:a,className:n()(s,r),...o})}));u.displayName="AlertHeading";const h=u;var p=s(7071);const f=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l=p.A,...o}=e;return r=(0,i.oU)(r,"alert-link"),(0,d.jsx)(l,{ref:a,className:n()(s,r),...o})}));f.displayName="AlertLink";const x=f;var v=s(8072),g=s(5632);const j=l.forwardRef(((e,a)=>{const{bsPrefix:s,show:r=!0,closeLabel:l="Close alert",closeVariant:c,className:m,children:u,variant:h="primary",onClose:p,dismissible:f,transition:x=v.A,...j}=(0,o.Zw)(e,{show:"onClose"}),b=(0,i.oU)(s,"alert"),y=(0,t.A)((e=>{p&&p(!1,e)})),w=!0===x?v.A:x,A=(0,d.jsxs)("div",{role:"alert",...w?void 0:j,ref:a,className:n()(m,b,h&&"".concat(b,"-").concat(h),f&&"".concat(b,"-dismissible")),children:[f&&(0,d.jsx)(g.A,{onClick:y,"aria-label":l,variant:c}),u]});return w?(0,d.jsx)(w,{unmountOnExit:!0,...j,ref:void 0,in:r,children:A}):r?A:null}));j.displayName="Alert";const b=Object.assign(j,{Link:x,Heading:h})},7994:(e,a,s)=>{s.d(a,{A:()=>h});var r=s(8139),n=s.n(r),l=s(5043),o=s(7852),t=s(1068),i=s(9334),c=s(579);const d=l.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:l="span",...t}=e;return r=(0,o.oU)(r,"input-group-text"),(0,c.jsx)(l,{ref:a,className:n()(s,r),...t})}));d.displayName="InputGroupText";const m=d,u=l.forwardRef(((e,a)=>{let{bsPrefix:s,size:r,hasValidation:t,className:d,as:m="div",...u}=e;s=(0,o.oU)(s,"input-group");const h=(0,l.useMemo)((()=>({})),[]);return(0,c.jsx)(i.A.Provider,{value:h,children:(0,c.jsx)(m,{ref:a,...u,className:n()(d,s,r&&"".concat(s,"-").concat(r),t&&"has-validation")})})}));u.displayName="InputGroup";const h=Object.assign(u,{Text:m,Radio:e=>(0,c.jsx)(m,{children:(0,c.jsx)(t.A,{type:"radio",...e})}),Checkbox:e=>(0,c.jsx)(m,{children:(0,c.jsx)(t.A,{type:"checkbox",...e})})})}}]);
//# sourceMappingURL=777.c84f8ba9.chunk.js.map