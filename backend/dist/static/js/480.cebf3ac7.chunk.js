"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[480],{6480:(e,s,r)=>{r.r(s),r.d(s,{default:()=>m});var t=r(5043),n=r(8250),a=r(1881),o=r(8139),c=r.n(o),i=r(7852),l=r(579);const d=t.forwardRef(((e,s)=>{let{bsPrefix:r,className:t,striped:n,bordered:a,borderless:o,hover:d,size:h,variant:u,responsive:x,...f}=e;const j=(0,i.oU)(r,"table"),m=c()(t,j,u&&"".concat(j,"-").concat(u),h&&"".concat(j,"-").concat(h),n&&"".concat(j,"-").concat("string"===typeof n?"striped-".concat(n):"striped"),a&&"".concat(j,"-bordered"),o&&"".concat(j,"-borderless"),d&&"".concat(j,"-hover")),b=(0,l.jsx)("table",{...f,className:m,ref:s});if(x){let e="".concat(j,"-responsive");return"string"===typeof x&&(e="".concat(e,"-").concat(x)),(0,l.jsx)("div",{className:e,children:b})}return b}));var h=r(4282),u=r(4520),x=r(4743),f=r(5475),j=r(6133);const m=()=>{const{isDarkMode:e}=(0,j.D2)(),{loading:s,error:r,data:t}=(0,n.I)(x.em),[o]=(0,a.n)(x.q8,{refetchQueries:[{query:x.em}]}),[c]=(0,a.n)(x.v_,{refetchQueries:[{query:x.em}]}),[i]=(0,a.n)(x.Ur,{refetchQueries:[{query:x.em}]});if(s)return(0,l.jsx)("p",{children:"Loading..."});if(r)return(0,l.jsxs)("p",{children:["Error: ",r.message]});return(0,l.jsxs)(d,{striped:!0,bordered:!0,hover:!0,...e?{variant:"dark"}:{},children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"User id"}),(0,l.jsx)("th",{children:"Username"}),(0,l.jsx)("th",{children:"Email"}),(0,l.jsx)("th",{children:"Admin"}),(0,l.jsx)("th",{children:"Coffee"}),(0,l.jsx)("th",{children:"Banned at"}),(0,l.jsx)("th",{children:"Actions"})]})}),(0,l.jsx)("tbody",{children:t.getAllUsers.map((e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.id}),(0,l.jsx)("td",{children:(0,l.jsx)(f.N_,{style:{color:"inherit",textDecoration:"inherit"},to:"/user/".concat(e.id),children:e.username})}),(0,l.jsx)("td",{children:e.email}),(0,l.jsx)("td",{children:e.has_superpowers?"Yes":"No"}),(0,l.jsx)("td",{children:e.coffee?(0,l.jsx)("a",{href:e.coffee,target:"_blank",rel:"noopener noreferrer",children:"Coffee Link"}):"None"}),(0,l.jsx)("td",{children:e.bannedAt&&new Date(Number(e.bannedAt)).toLocaleString()}),(0,l.jsxs)("td",{children:[!e.has_superpowers&&(0,l.jsx)(u.A,{title:"Are you sure you want to activate this user?",onConfirm:()=>(async e=>{})(e.id),okText:"Yes",cancelText:"No",children:(0,l.jsx)(h.A,{variant:"success",size:"sm",className:"me-2",children:"Activate"})}),!e.has_superpowers&&(e.bannedAt?(0,l.jsx)(u.A,{title:"Are you sure you want to unban this user?",onConfirm:()=>(async e=>{try{const s=await c({variables:{id:e}});s.data.unbanUser.success,console.log(s.data)}catch(s){console.log(s)}})(e.id),okText:"Yes",cancelText:"No",children:(0,l.jsx)(h.A,{variant:"warning",size:"sm",className:"mx-1",children:"Unban"})}):(0,l.jsx)(u.A,{title:"Are you sure you want to ban this user?",onConfirm:()=>(async e=>{try{const s=await o({variables:{id:e}});s.data.banUser.success,console.log(s.data)}catch(s){console.log(s)}})(e.id),okText:"Yes",cancelText:"No",children:(0,l.jsx)(h.A,{variant:"danger",size:"sm",className:"mx-1",children:"Ban"})})),(0,l.jsx)(u.A,{title:"Are you sure you want to delete this user?",onConfirm:()=>(async e=>{if(window.confirm("Are you absolutely sure you want to delete this user? This action cannot be undone."))try{(await i({variables:{id:e}})).data.deleteUser.success?console.log("User deleted successfully"):console.log("Failed to delete user")}catch(s){console.log(s)}})(e.id),okText:"Yes",cancelText:"No",children:(0,l.jsx)(h.A,{variant:"outline-danger",size:"sm",className:"mx-2",children:"Delete"})})]})]},e.id)))})]})}}}]);
//# sourceMappingURL=480.cebf3ac7.chunk.js.map