"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[480],{4099:(e,r,a)=>{a.r(r),a.d(r,{default:()=>j});var s=a(2134),t=a(8250),n=a(3519),c=a(1072),o=a(8602),l=a(8628),i=a(457),d=a(2223),m=a(4743),f=a(5043),x=a(5173),u=a.n(x),h=["color","size","title","className"];function v(){return v=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},v.apply(null,arguments)}var y=(0,f.forwardRef)((function(e,r){var a=e.color,s=void 0===a?"currentColor":a,t=e.size,n=void 0===t?"1em":t,c=e.title,o=void 0===c?null:c,l=e.className,i=void 0===l?"":l,d=function(e,r){if(null==e)return{};var a,s,t=function(e,r){if(null==e)return{};var a={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.includes(s))continue;a[s]=e[s]}return a}(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)a=n[s],r.includes(a)||{}.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}(e,h);return f.createElement("svg",v({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:n,height:n,fill:s,className:["bi","bi-cup-hot",i].filter(Boolean).join(" ")},d),o?f.createElement("title",null,o):null,f.createElement("path",{fillRule:"evenodd",d:"M.5 6a.5.5 0 0 0-.488.608l1.652 7.434A2.5 2.5 0 0 0 4.104 16h5.792a2.5 2.5 0 0 0 2.44-1.958l.131-.59a3 3 0 0 0 1.3-5.854l.221-.99A.5.5 0 0 0 13.5 6zM13 12.5a2 2 0 0 1-.316-.025l.867-3.898A2.001 2.001 0 0 1 13 12.5M2.64 13.825 1.123 7h11.754l-1.517 6.825A1.5 1.5 0 0 1 9.896 15H4.104a1.5 1.5 0 0 1-1.464-1.175"}),f.createElement("path",{d:"m4.4.8-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 3.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 3.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 3 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 4.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.253.382l-.018.025-.005.008-.002.002A.5.5 0 0 1 6.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 6.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 6 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 7.4.8m3 0-.003.004-.014.019a4 4 0 0 0-.204.31 2 2 0 0 0-.141.267c-.026.06-.034.092-.037.103v.004a.6.6 0 0 0 .091.248c.075.133.178.272.308.445l.01.012c.118.158.26.347.37.543.112.2.22.455.22.745 0 .188-.065.368-.119.494a3 3 0 0 1-.202.388 5 5 0 0 1-.252.382l-.019.025-.005.008-.002.002A.5.5 0 0 1 9.6 4.2l.003-.004.014-.019a4 4 0 0 0 .204-.31 2 2 0 0 0 .141-.267c.026-.06.034-.092.037-.103a.6.6 0 0 0-.09-.252A4 4 0 0 0 9.6 2.8l-.01-.012a5 5 0 0 1-.37-.543A1.53 1.53 0 0 1 9 1.5c0-.188.065-.368.119-.494.059-.138.134-.274.202-.388a6 6 0 0 1 .253-.382l.025-.035A.5.5 0 0 1 10.4.8"}))}));y.propTypes={color:u().string,size:u().oneOfType([u().string,u().number]),title:u().string,className:u().string};const p=y;var b=a(6290),N=a(579);const j=()=>{const{isDarkMode:e}=(0,b.D2)(),{id:r}=(0,s.g)(),{loading:a,error:f,data:x}=(0,t.IT)(m.p6,{variables:{getUserProfileId:r}});if(a)return(0,N.jsx)("p",{children:"Loading..."});if(f)return(0,N.jsxs)("p",{children:["Error: ",f.message]});const{user:u,stories:h,chapters:v}=x.getUserProfile;console.log(x);const y=v.reduce(((e,r)=>{const a=r.story.id,s=r.branch;return e[a]||(e[a]={storyTitle:r.story.title,branches:{}}),e[a].branches[s]||(e[a].branches[s]=[]),e[a].branches[s].push(r),e}),{});return(0,N.jsxs)(n.A,{children:[(0,N.jsxs)(c.A,{className:"mt-5",children:[(0,N.jsx)(o.A,{md:4,children:(0,N.jsx)(l.A,{style:{width:"18rem"},className:"".concat(e?"dark-mode":"light-mode"),children:(0,N.jsxs)(l.A.Body,{children:[(0,N.jsx)(l.A.Img,{variant:"top",src:"https://www.gravatar.com/avatar/".concat(u.email,"?d=robohash&r=g&s=100")}),(0,N.jsx)(l.A.Title,{className:"mt-2",children:u.username}),u.coffee&&(0,N.jsxs)(l.A.Text,{children:[(0,N.jsx)(s.N_,{to:u.coffee,style:{color:"inherit",textDecoration:"none"},target:"_blank",rel:"noopener noreferrer",children:"Buy Me a Coffee"})," ",(0,N.jsx)(p,{})," "]}),(0,N.jsx)(l.A.Text,{children:"Some day user could have nice description or bio here!"})]})})}),(0,N.jsx)(o.A,{md:8,children:(0,N.jsxs)(i.A,{defaultActiveKey:"0",children:[(0,N.jsxs)(i.A.Item,{eventKey:"1",className:"".concat(e?"dark-mode":"light-mode"),children:[(0,N.jsx)(i.A.Header,{children:"Stories"}),(0,N.jsx)(i.A.Body,{children:(0,N.jsx)(d.A,{children:h.map((e=>(0,N.jsx)(d.A.Item,{children:(0,N.jsxs)(s.N_,{style:{color:"inherit",textDecoration:"inherit"},to:"/story/".concat(e.id),children:[e.title," - ",e.genre]})},e.id)))})})]}),(0,N.jsxs)(i.A.Item,{eventKey:"2",className:"".concat(e?"dark-mode":"light-mode"),children:[(0,N.jsx)(i.A.Header,{children:"Chapters"}),(0,N.jsx)(i.A.Body,{children:Object.keys(y).map((e=>(0,N.jsxs)("div",{className:"mb-2",children:[(0,N.jsx)("h4",{children:y[e].storyTitle}),Object.keys(y[e].branches).sort(((e,r)=>e-r)).map((r=>(0,N.jsxs)("div",{className:"mb-3",children:[(0,N.jsxs)("h5",{children:["Branch ",r]}),(0,N.jsx)(d.A,{children:y[e].branches[r].map((r=>(0,N.jsx)(d.A.Item,{children:(0,N.jsxs)(s.N_,{style:{color:"inherit",textDecoration:"inherit"},to:"/story/".concat(e,"/chapter/").concat(r.id),children:[r.title," - Likes: ",r.votes_count," - Reads: ",r.reads_count]})},r.id)))})]},r)))]},e)))})]})]})})]}),(0,N.jsx)(c.A,{className:"mt-5",children:(0,N.jsx)(o.A,{})})]})}},457:(e,r,a)=>{a.d(r,{A:()=>P});var s=a(8139),t=a.n(s),n=a(5043),c=a(7121),o=a(7852),l=a(2306);function i(e,r){return Array.isArray(e)?e.includes(r):e===r}const d=n.createContext({});d.displayName="AccordionContext";const m=d;var f=a(579);const x=n.forwardRef(((e,r)=>{let{as:a="div",bsPrefix:s,className:c,children:d,eventKey:x,...u}=e;const{activeEventKey:h}=(0,n.useContext)(m);return s=(0,o.oU)(s,"accordion-collapse"),(0,f.jsx)(l.A,{ref:r,in:i(h,x),...u,className:t()(c,s),children:(0,f.jsx)(a,{children:n.Children.only(d)})})}));x.displayName="AccordionCollapse";const u=x,h=n.createContext({eventKey:""});h.displayName="AccordionItemContext";const v=h,y=n.forwardRef(((e,r)=>{let{as:a="div",bsPrefix:s,className:c,onEnter:l,onEntering:i,onEntered:d,onExit:m,onExiting:x,onExited:h,...y}=e;s=(0,o.oU)(s,"accordion-body");const{eventKey:p}=(0,n.useContext)(v);return(0,f.jsx)(u,{eventKey:p,onEnter:l,onEntering:i,onEntered:d,onExit:m,onExiting:x,onExited:h,children:(0,f.jsx)(a,{ref:r,...y,className:t()(c,s)})})}));y.displayName="AccordionBody";const p=y;const b=n.forwardRef(((e,r)=>{let{as:a="button",bsPrefix:s,className:c,onClick:l,...d}=e;s=(0,o.oU)(s,"accordion-button");const{eventKey:x}=(0,n.useContext)(v),u=function(e,r){const{activeEventKey:a,onSelect:s,alwaysOpen:t}=(0,n.useContext)(m);return n=>{let c=e===a?null:e;t&&(c=Array.isArray(a)?a.includes(e)?a.filter((r=>r!==e)):[...a,e]:[e]),null==s||s(c,n),null==r||r(n)}}(x,l),{activeEventKey:h}=(0,n.useContext)(m);return"button"===a&&(d.type="button"),(0,f.jsx)(a,{ref:r,onClick:u,...d,"aria-expanded":Array.isArray(h)?h.includes(x):x===h,className:t()(c,s,!i(h,x)&&"collapsed")})}));b.displayName="AccordionButton";const N=b,j=n.forwardRef(((e,r)=>{let{as:a="h2","aria-controls":s,bsPrefix:n,className:c,children:l,onClick:i,...d}=e;return n=(0,o.oU)(n,"accordion-header"),(0,f.jsx)(a,{ref:r,...d,className:t()(c,n),children:(0,f.jsx)(N,{onClick:i,"aria-controls":s,children:l})})}));j.displayName="AccordionHeader";const A=j,g=n.forwardRef(((e,r)=>{let{as:a="div",bsPrefix:s,className:c,eventKey:l,...i}=e;s=(0,o.oU)(s,"accordion-item");const d=(0,n.useMemo)((()=>({eventKey:l})),[l]);return(0,f.jsx)(v.Provider,{value:d,children:(0,f.jsx)(a,{ref:r,...i,className:t()(c,s)})})}));g.displayName="AccordionItem";const w=g,C=n.forwardRef(((e,r)=>{const{as:a="div",activeKey:s,bsPrefix:l,className:i,onSelect:d,flush:x,alwaysOpen:u,...h}=(0,c.Zw)(e,{activeKey:"onSelect"}),v=(0,o.oU)(l,"accordion"),y=(0,n.useMemo)((()=>({activeEventKey:s,onSelect:d,alwaysOpen:u})),[s,d,u]);return(0,f.jsx)(m.Provider,{value:y,children:(0,f.jsx)(a,{ref:r,...h,className:t()(i,v,x&&"".concat(v,"-flush"))})})}));C.displayName="Accordion";const P=Object.assign(C,{Button:N,Collapse:u,Item:w,Header:A,Body:p})},8628:(e,r,a)=>{a.d(r,{A:()=>I});var s=a(8139),t=a.n(s),n=a(5043),c=a(7852),o=a(579);const l=n.forwardRef(((e,r)=>{let{className:a,bsPrefix:s,as:n="div",...l}=e;return s=(0,c.oU)(s,"card-body"),(0,o.jsx)(n,{ref:r,className:t()(a,s),...l})}));l.displayName="CardBody";const i=l,d=n.forwardRef(((e,r)=>{let{className:a,bsPrefix:s,as:n="div",...l}=e;return s=(0,c.oU)(s,"card-footer"),(0,o.jsx)(n,{ref:r,className:t()(a,s),...l})}));d.displayName="CardFooter";const m=d;var f=a(1778);const x=n.forwardRef(((e,r)=>{let{bsPrefix:a,className:s,as:l="div",...i}=e;const d=(0,c.oU)(a,"card-header"),m=(0,n.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,o.jsx)(f.A.Provider,{value:m,children:(0,o.jsx)(l,{ref:r,...i,className:t()(s,d)})})}));x.displayName="CardHeader";const u=x,h=n.forwardRef(((e,r)=>{let{bsPrefix:a,className:s,variant:n,as:l="img",...i}=e;const d=(0,c.oU)(a,"card-img");return(0,o.jsx)(l,{ref:r,className:t()(n?"".concat(d,"-").concat(n):d,s),...i})}));h.displayName="CardImg";const v=h,y=n.forwardRef(((e,r)=>{let{className:a,bsPrefix:s,as:n="div",...l}=e;return s=(0,c.oU)(s,"card-img-overlay"),(0,o.jsx)(n,{ref:r,className:t()(a,s),...l})}));y.displayName="CardImgOverlay";const p=y,b=n.forwardRef(((e,r)=>{let{className:a,bsPrefix:s,as:n="a",...l}=e;return s=(0,c.oU)(s,"card-link"),(0,o.jsx)(n,{ref:r,className:t()(a,s),...l})}));b.displayName="CardLink";const N=b;var j=a(4488);const A=(0,j.A)("h6"),g=n.forwardRef(((e,r)=>{let{className:a,bsPrefix:s,as:n=A,...l}=e;return s=(0,c.oU)(s,"card-subtitle"),(0,o.jsx)(n,{ref:r,className:t()(a,s),...l})}));g.displayName="CardSubtitle";const w=g,C=n.forwardRef(((e,r)=>{let{className:a,bsPrefix:s,as:n="p",...l}=e;return s=(0,c.oU)(s,"card-text"),(0,o.jsx)(n,{ref:r,className:t()(a,s),...l})}));C.displayName="CardText";const P=C,k=(0,j.A)("h5"),E=n.forwardRef(((e,r)=>{let{className:a,bsPrefix:s,as:n=k,...l}=e;return s=(0,c.oU)(s,"card-title"),(0,o.jsx)(n,{ref:r,className:t()(a,s),...l})}));E.displayName="CardTitle";const R=E,U=n.forwardRef(((e,r)=>{let{bsPrefix:a,className:s,bg:n,text:l,border:d,body:m=!1,children:f,as:x="div",...u}=e;const h=(0,c.oU)(a,"card");return(0,o.jsx)(x,{ref:r,...u,className:t()(s,h,n&&"bg-".concat(n),l&&"text-".concat(l),d&&"border-".concat(d)),children:m?(0,o.jsx)(i,{children:f}):f})}));U.displayName="Card";const I=Object.assign(U,{Img:v,Title:R,Subtitle:w,Body:i,Link:N,Text:P,Header:u,Footer:m,ImgOverlay:p})},2223:(e,r,a)=>{a.d(r,{A:()=>v});var s=a(8139),t=a.n(s),n=a(5043),c=(a(6440),a(7121)),o=a(927),l=a(7852),i=a(1456),d=a(2644),m=a(5901),f=a(579);const x=n.forwardRef(((e,r)=>{let{bsPrefix:a,active:s,disabled:n,eventKey:c,className:o,variant:x,action:u,as:h,...v}=e;a=(0,l.oU)(a,"list-group-item");const[y,p]=(0,d.M)({key:(0,m.u)(c,v.href),active:s,...v}),b=(0,i.A)((e=>{if(n)return e.preventDefault(),void e.stopPropagation();y.onClick(e)}));n&&void 0===v.tabIndex&&(v.tabIndex=-1,v["aria-disabled"]=!0);const N=h||(u?v.href?"a":"button":"div");return(0,f.jsx)(N,{ref:r,...v,...y,onClick:b,className:t()(o,a,p.isActive&&"active",n&&"disabled",x&&"".concat(a,"-").concat(x),u&&"".concat(a,"-action"))})}));x.displayName="ListGroupItem";const u=x,h=n.forwardRef(((e,r)=>{const{className:a,bsPrefix:s,variant:n,horizontal:i,numbered:d,as:m="div",...x}=(0,c.Zw)(e,{activeKey:"onSelect"}),u=(0,l.oU)(s,"list-group");let h;return i&&(h=!0===i?"horizontal":"horizontal-".concat(i)),(0,f.jsx)(o.A,{ref:r,...x,as:m,className:t()(a,u,n&&"".concat(u,"-").concat(n),h&&"".concat(u,"-").concat(h),d&&"".concat(u,"-numbered"))})}));h.displayName="ListGroup";const v=Object.assign(h,{Item:u})}}]);
//# sourceMappingURL=480.52147b39.chunk.js.map