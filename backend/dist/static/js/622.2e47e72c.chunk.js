"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[622],{3622:(e,a,s)=>{s.r(a),s.d(a,{default:()=>b});var l=s(2791),r=s(2506),t=s(8007),o=s(4376),n=s(9829),i=s(7689),c=s(3812),d=s(7022),m=s(9795),f=s(3360),p=s(18),u=s(8261),h=s(1087),x=s(184);const v=t.Ry().shape({email:t.Z_().email("Invalid email").required("Email is required"),password:t.Z_().required("Password is required")}),b=()=>{const{addNotification:e}=(0,u.z)(),[a,s]=(0,l.useState)(null),{user:t,setUser:b}=(0,c.a)(),y=!!t,N=(0,i.s0)(),[j]=(0,o.D)(n.O2,{update:(a,l)=>{let{data:r}=l;r.login.success?(b(r.login.user),e("Welcome back ".concat(r.login.user.username)),N("/")):(console.log(r.login),s(r.login.message))},onError:a=>{e("Something went wrong: ".concat(a.message),2e3,"error")}}),g=(0,r.TA)({initialValues:{email:"",password:"",honeypot:""},validationSchema:v,onSubmit:async e=>{e.honeypot?console.log("Bot detected"):j({variables:e})}});return y?(N("/"),(0,x.jsx)("p",{children:"You are already logged in."})):(0,x.jsxs)(d.Z,{style:{maxWidth:"400px",marginTop:"50px"},children:[(0,x.jsxs)(m.Z,{onSubmit:g.handleSubmit,children:[(0,x.jsxs)(m.Z.Group,{controlId:"formBasicEmail",className:"mt-2 custom-form",children:[(0,x.jsx)(m.Z.Label,{children:"Email address"}),(0,x.jsx)(m.Z.Control,{type:"email",name:"email",value:g.values.email,onChange:g.handleChange,onBlur:g.handleBlur,isInvalid:g.touched.email&&g.errors.email,placeholder:"Enter email"}),(0,x.jsx)(m.Z.Control.Feedback,{type:"invalid",children:g.errors.email})]}),(0,x.jsxs)(m.Z.Group,{controlId:"formBasicPassword",className:"mt-4 custom-form",children:[(0,x.jsx)(m.Z.Label,{children:"Password"}),(0,x.jsx)(m.Z.Control,{type:"password",name:"password",value:g.values.password,onChange:g.handleChange,onBlur:g.handleBlur,isInvalid:g.touched.password&&g.errors.password,placeholder:"Password"}),(0,x.jsx)(m.Z.Control.Feedback,{type:"invalid",children:g.errors.password})]}),(0,x.jsx)(m.Z.Control,{style:{display:"none"},name:"honeypot",onChange:g.handleChange,value:g.values.honeypot}),(0,x.jsx)(f.Z,{variant:"secondary",className:"mt-2",type:"submit",children:"Login"})]}),a&&(0,x.jsx)(p.Z,{variant:"danger",className:"mt-3",children:a}),(0,x.jsxs)("div",{className:"mt-3",children:["No account yet? ",(0,x.jsx)(h.rU,{to:"/signup",children:"Sign up here"})]})]})}},18:(e,a,s)=>{s.d(a,{Z:()=>N});var l=s(1694),r=s.n(l),t=s(2791),o=s(239),n=s(9007),i=s(162),c=s(7472),d=s(184);const m=(0,c.Z)("h4");m.displayName="DivStyledAsH4";const f=t.forwardRef(((e,a)=>{let{className:s,bsPrefix:l,as:t=m,...o}=e;return l=(0,i.vE)(l,"alert-heading"),(0,d.jsx)(t,{ref:a,className:r()(s,l),...o})}));f.displayName="AlertHeading";const p=f;var u=s(6445);const h=t.forwardRef(((e,a)=>{let{className:s,bsPrefix:l,as:t=u.Z,...o}=e;return l=(0,i.vE)(l,"alert-link"),(0,d.jsx)(t,{ref:a,className:r()(s,l),...o})}));h.displayName="AlertLink";const x=h;var v=s(2709),b=s(473);const y=t.forwardRef(((e,a)=>{const{bsPrefix:s,show:l=!0,closeLabel:t="Close alert",closeVariant:c,className:m,children:f,variant:p="primary",onClose:u,dismissible:h,transition:x=v.Z,...y}=(0,o.Ch)(e,{show:"onClose"}),N=(0,i.vE)(s,"alert"),j=(0,n.Z)((e=>{u&&u(!1,e)})),g=!0===x?v.Z:x,w=(0,d.jsxs)("div",{role:"alert",...g?void 0:y,ref:a,className:r()(m,N,p&&"".concat(N,"-").concat(p),h&&"".concat(N,"-dismissible")),children:[h&&(0,d.jsx)(b.Z,{onClick:j,"aria-label":t,variant:c}),f]});return g?(0,d.jsx)(g,{unmountOnExit:!0,...y,ref:void 0,in:l,children:w}):l?w:null}));y.displayName="Alert";const N=Object.assign(y,{Link:x,Heading:p})},1701:(e,a,s)=>{s.d(a,{Ed:()=>t,UI:()=>r,XW:()=>o});var l=s(2791);function r(e,a){let s=0;return l.Children.map(e,(e=>l.isValidElement(e)?a(e,s++):e))}function t(e,a){let s=0;l.Children.forEach(e,(e=>{l.isValidElement(e)&&a(e,s++)}))}function o(e,a){return l.Children.toArray(e).some((e=>l.isValidElement(e)&&e.type===a))}},9795:(e,a,s)=>{s.d(a,{Z:()=>q});var l=s(1694),r=s.n(l),t=s(2007),o=s.n(t),n=s(2791),i=s(184);const c={type:o().string,tooltip:o().bool,as:o().elementType},d=n.forwardRef(((e,a)=>{let{as:s="div",className:l,type:t="valid",tooltip:o=!1,...n}=e;return(0,i.jsx)(s,{...n,ref:a,className:r()(l,"".concat(t,"-").concat(o?"tooltip":"feedback"))})}));d.displayName="Feedback",d.propTypes=c;const m=d;var f=s(6882),p=s(4934),u=s(162);const h=n.forwardRef(((e,a)=>{let{bsPrefix:s,className:l,htmlFor:t,...o}=e;const{controlId:c}=(0,n.useContext)(p.Z);return s=(0,u.vE)(s,"form-check-label"),(0,i.jsx)("label",{...o,ref:a,htmlFor:t||c,className:r()(l,s)})}));h.displayName="FormCheckLabel";const x=h;var v=s(1701);const b=n.forwardRef(((e,a)=>{let{id:s,bsPrefix:l,bsSwitchPrefix:t,inline:o=!1,reverse:c=!1,disabled:d=!1,isValid:h=!1,isInvalid:b=!1,feedbackTooltip:y=!1,feedback:N,feedbackType:j,className:g,style:w,title:Z="",type:C="checkbox",label:k,children:I,as:F="input",...E}=e;l=(0,u.vE)(l,"form-check"),t=(0,u.vE)(t,"form-switch");const{controlId:P}=(0,n.useContext)(p.Z),R=(0,n.useMemo)((()=>({controlId:s||P})),[P,s]),S=!I&&null!=k&&!1!==k||(0,v.XW)(I,x),L=(0,i.jsx)(f.Z,{...E,type:"switch"===C?"checkbox":C,ref:a,isValid:h,isInvalid:b,disabled:d,as:F});return(0,i.jsx)(p.Z.Provider,{value:R,children:(0,i.jsx)("div",{style:w,className:r()(g,S&&l,o&&"".concat(l,"-inline"),c&&"".concat(l,"-reverse"),"switch"===C&&t),children:I||(0,i.jsxs)(i.Fragment,{children:[L,S&&(0,i.jsx)(x,{title:Z,children:k}),N&&(0,i.jsx)(m,{type:j,tooltip:y,children:N})]})})})}));b.displayName="FormCheck";const y=Object.assign(b,{Input:f.Z,Label:x});s(2391);const N=n.forwardRef(((e,a)=>{let{bsPrefix:s,type:l,size:t,htmlSize:o,id:c,className:d,isValid:m=!1,isInvalid:f=!1,plaintext:h,readOnly:x,as:v="input",...b}=e;const{controlId:y}=(0,n.useContext)(p.Z);return s=(0,u.vE)(s,"form-control"),(0,i.jsx)(v,{...b,type:l,size:o,ref:a,readOnly:x,id:c||y,className:r()(d,h?"".concat(s,"-plaintext"):s,t&&"".concat(s,"-").concat(t),"color"===l&&"".concat(s,"-color"),m&&"is-valid",f&&"is-invalid")})}));N.displayName="FormControl";const j=Object.assign(N,{Feedback:m}),g=n.forwardRef(((e,a)=>{let{className:s,bsPrefix:l,as:t="div",...o}=e;return l=(0,u.vE)(l,"form-floating"),(0,i.jsx)(t,{ref:a,className:r()(s,l),...o})}));g.displayName="FormFloating";const w=g,Z=n.forwardRef(((e,a)=>{let{controlId:s,as:l="div",...r}=e;const t=(0,n.useMemo)((()=>({controlId:s})),[s]);return(0,i.jsx)(p.Z.Provider,{value:t,children:(0,i.jsx)(l,{...r,ref:a})})}));Z.displayName="FormGroup";const C=Z;var k=s(2677);const I=n.forwardRef(((e,a)=>{let{as:s="label",bsPrefix:l,column:t=!1,visuallyHidden:o=!1,className:c,htmlFor:d,...m}=e;const{controlId:f}=(0,n.useContext)(p.Z);l=(0,u.vE)(l,"form-label");let h="col-form-label";"string"===typeof t&&(h="".concat(h," ").concat(h,"-").concat(t));const x=r()(c,l,o&&"visually-hidden",t&&h);return d=d||f,t?(0,i.jsx)(k.Z,{ref:a,as:"label",className:x,htmlFor:d,...m}):(0,i.jsx)(s,{ref:a,className:x,htmlFor:d,...m})}));I.displayName="FormLabel";const F=I,E=n.forwardRef(((e,a)=>{let{bsPrefix:s,className:l,id:t,...o}=e;const{controlId:c}=(0,n.useContext)(p.Z);return s=(0,u.vE)(s,"form-range"),(0,i.jsx)("input",{...o,type:"range",ref:a,className:r()(l,s),id:t||c})}));E.displayName="FormRange";const P=E,R=n.forwardRef(((e,a)=>{let{bsPrefix:s,size:l,htmlSize:t,className:o,isValid:c=!1,isInvalid:d=!1,id:m,...f}=e;const{controlId:h}=(0,n.useContext)(p.Z);return s=(0,u.vE)(s,"form-select"),(0,i.jsx)("select",{...f,size:t,ref:a,className:r()(o,s,l&&"".concat(s,"-").concat(l),c&&"is-valid",d&&"is-invalid"),id:m||h})}));R.displayName="FormSelect";const S=R,L=n.forwardRef(((e,a)=>{let{bsPrefix:s,className:l,as:t="small",muted:o,...n}=e;return s=(0,u.vE)(s,"form-text"),(0,i.jsx)(t,{...n,ref:a,className:r()(l,s,o&&"text-muted")})}));L.displayName="FormText";const T=L,V=n.forwardRef(((e,a)=>(0,i.jsx)(y,{...e,ref:a,type:"switch"})));V.displayName="Switch";const O=Object.assign(V,{Input:y.Input,Label:y.Label}),z=n.forwardRef(((e,a)=>{let{bsPrefix:s,className:l,children:t,controlId:o,label:n,...c}=e;return s=(0,u.vE)(s,"form-floating"),(0,i.jsxs)(C,{ref:a,className:r()(l,s),controlId:o,...c,children:[t,(0,i.jsx)("label",{htmlFor:o,children:n})]})}));z.displayName="FloatingLabel";const B=z,A={_ref:o().any,validated:o().bool,as:o().elementType},_=n.forwardRef(((e,a)=>{let{className:s,validated:l,as:t="form",...o}=e;return(0,i.jsx)(t,{...o,ref:a,className:r()(s,l&&"was-validated")})}));_.displayName="Form",_.propTypes=A;const q=Object.assign(_,{Group:C,Control:j,Floating:w,Check:y,Switch:O,Label:F,Text:T,Range:P,Select:S,FloatingLabel:B})},6882:(e,a,s)=>{s.d(a,{Z:()=>d});var l=s(1694),r=s.n(l),t=s(2791),o=s(4934),n=s(162),i=s(184);const c=t.forwardRef(((e,a)=>{let{id:s,bsPrefix:l,className:c,type:d="checkbox",isValid:m=!1,isInvalid:f=!1,as:p="input",...u}=e;const{controlId:h}=(0,t.useContext)(o.Z);return l=(0,n.vE)(l,"form-check-input"),(0,i.jsx)(p,{...u,ref:a,type:d,id:s||h,className:r()(c,l,m&&"is-valid",f&&"is-invalid")})}));c.displayName="FormCheckInput";const d=c},4934:(e,a,s)=>{s.d(a,{Z:()=>l});const l=s(2791).createContext({})}}]);
//# sourceMappingURL=622.2e47e72c.chunk.js.map