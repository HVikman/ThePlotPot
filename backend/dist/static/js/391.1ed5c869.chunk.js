"use strict";(self.webpackChunktheplotpot_frontend=self.webpackChunktheplotpot_frontend||[]).push([[391],{7391:(e,r,a)=>{a.r(r),a.d(r,{default:()=>I});var s=a(5043),t=a(3516),n=a(899),l=a(1881),o=a(4743),i=a(3216),c=a(2855),u=a(3519),d=a(3722),m=a(7994),h=a(4282),p=a(1719),f=a(1898),g=a(5173),j=a.n(g),v=["color","size","title","className"];function x(){return x=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},x.apply(this,arguments)}function y(e,r){if(null==e)return{};var a,s,t=function(e,r){if(null==e)return{};var a,s,t={},n=Object.keys(e);for(s=0;s<n.length;s++)a=n[s],r.indexOf(a)>=0||(t[a]=e[a]);return t}(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)a=n[s],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var b=(0,s.forwardRef)((function(e,r){var a=e.color,t=e.size,n=e.title,l=e.className,o=y(e,v);return s.createElement("svg",x({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:a,className:["bi","bi-person-fill",l].filter(Boolean).join(" ")},o),n?s.createElement("title",null,n):null,s.createElement("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"}))}));b.propTypes={color:j().string,size:j().oneOfType([j().string,j().number]),title:j().string,className:j().string},b.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const w=b;var A=["color","size","title","className"];function O(){return O=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},O.apply(this,arguments)}function N(e,r){if(null==e)return{};var a,s,t=function(e,r){if(null==e)return{};var a,s,t={},n=Object.keys(e);for(s=0;s<n.length;s++)a=n[s],r.indexOf(a)>=0||(t[a]=e[a]);return t}(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)a=n[s],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var C=(0,s.forwardRef)((function(e,r){var a=e.color,t=e.size,n=e.title,l=e.className,o=N(e,A);return s.createElement("svg",O({ref:r,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:t,fill:a,className:["bi","bi-key-fill",l].filter(Boolean).join(" ")},o),n?s.createElement("title",null,n):null,s.createElement("path",{d:"M3.5 11.5a3.5 3.5 0 1 1 3.163-5H14L15.5 8 14 9.5l-1-1-1 1-1-1-1 1-1-1-1 1H6.663a3.5 3.5 0 0 1-3.163 2M2.5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2"}))}));C.propTypes={color:j().string,size:j().oneOfType([j().string,j().number]),title:j().string,className:j().string},C.defaultProps={color:"currentColor",size:"1em",title:null,className:""};const B=C;var E=a(5475),P=a(579);const k=n.Ik().shape({username:n.Yj().min(3,"Username must be at least 3 characters").required("Username is required"),email:n.Yj().email("Invalid email").required("Email is required"),password:n.Yj().min(6,"Password must be at least 6 characters").required("Password is required")}),I=()=>{const{addNotification:e}=(0,f.E)(),[r,a]=(0,s.useState)(null),[n]=(0,l.n)(o.hI,{update:(r,s)=>{let{data:t}=s;t.createUser.success?(e("Signup successful: ".concat(t.createUser.user.username)),j(t.createUser.user),x("/")):a(t.createUser.message)},onError:r=>{e("Something went wrong: ".concat(r),2e3,"error")}}),{user:g,setUser:j}=(0,c.A)(),v=!!g,x=(0,i.Zp)(),y=(0,t.Wx)({initialValues:{username:"",email:"",password:"",honeypot:""},validationSchema:k,onSubmit:async e=>{e.honeypot?console.log("Bot detected"):grecaptcha.ready((async()=>{const r=await grecaptcha.execute("6LfY0fooAAAAAKaljIbo723ZiMGApMCVg6ZU805o",{action:"submit"});n({variables:{...e,token:r}})}))}});return v?(x("/"),(0,P.jsx)("p",{children:"You are already logged in."})):(0,P.jsxs)(u.A,{style:{maxWidth:"400px",marginTop:"50px"},children:[(0,P.jsxs)(d.A,{onSubmit:y.handleSubmit,children:[(0,P.jsxs)(d.A.Group,{controlId:"formBasicUsername",className:"mt-4 custom-form",children:[(0,P.jsx)(d.A.Label,{children:"Username"}),(0,P.jsxs)(m.A,{className:"mb-3",children:[(0,P.jsx)(m.A.Text,{children:(0,P.jsx)(w,{})}),(0,P.jsx)(d.A.Control,{type:"text",name:"username",value:y.values.username,onChange:y.handleChange,onBlur:y.handleBlur,isInvalid:y.touched.username&&y.errors.username,placeholder:"Username"}),(0,P.jsx)(d.A.Control.Feedback,{type:"invalid",children:y.errors.username})]})]}),(0,P.jsxs)(d.A.Group,{controlId:"formBasicEmail",className:"mt-4 custom-form",children:[(0,P.jsx)(d.A.Label,{children:"Email address"}),(0,P.jsxs)(m.A,{className:"mb-3",children:[(0,P.jsx)(m.A.Text,{children:"@"}),(0,P.jsx)(d.A.Control,{type:"email",name:"email",value:y.values.email,onChange:y.handleChange,onBlur:y.handleBlur,isInvalid:y.touched.email&&y.errors.email,placeholder:"Enter email"}),(0,P.jsx)(d.A.Control.Feedback,{type:"invalid",children:y.errors.email})]})]}),(0,P.jsxs)(d.A.Group,{controlId:"formBasicPassword",className:"mt-4 custom-form",children:[(0,P.jsx)(d.A.Label,{children:"Password"}),(0,P.jsxs)(m.A,{className:"mb-3",children:[(0,P.jsx)(m.A.Text,{children:(0,P.jsx)(B,{})}),(0,P.jsx)(d.A.Control,{type:"password",name:"password",value:y.values.password,onChange:y.handleChange,onBlur:y.handleBlur,isInvalid:y.touched.password&&y.errors.password,placeholder:"Password"}),(0,P.jsx)(d.A.Control.Feedback,{type:"invalid",children:y.errors.password})]})]}),(0,P.jsx)(d.A.Control,{style:{display:"none"},name:"honeypot",onChange:y.handleChange,value:y.values.honeypot}),(0,P.jsx)(h.A,{variant:"secondary",className:"mt-2",type:"submit",children:"Signup"})]}),r&&(0,P.jsx)(p.A,{variant:"danger",className:"mt-3",children:r}),(0,P.jsxs)("div",{className:"mt-3",children:["Already registered? ",(0,P.jsx)(E.N_,{to:"/login",children:"Log in here"})]})]})}}}]);
//# sourceMappingURL=391.1ed5c869.chunk.js.map